module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},99136,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);a.i(30485);var e=a.i(31052),f=a.i(76650);a.i(69387);var g=a.i(60574),h=a.i(10682);function i(){let a=(0,d.useRouter)(),i=(0,e.getAuth)(f.app),{t:j}=(0,h.useStrings)(),[k,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{let b=i.currentUser;if(!b)return a.push("/");try{for(let a of(await (0,g.getDocs)((0,g.collection)(f.db,"organizations"))).docs)if((await (0,g.getDoc)((0,g.doc)(f.db,`organizations/${a.id}/users/${b.uid}`))).exists()){n(a.data().name||j("noSubscription.yourOrganization"));let b=await (0,g.getDoc)((0,g.doc)(f.db,`organizations/${a.id}/subscription/current`));b.exists()&&p(b.data());break}}catch(a){console.error("Error fetching subscription:",a)}finally{l(!1)}})()},[]);let q=async()=>{try{await (0,e.signOut)(i),a.push("/")}catch(a){console.error("Error signing out:",a)}},r=a=>a?new Date(a).toLocaleDateString("ru-RU",{day:"2-digit",month:"long",year:"numeric"}):j("noSubscription.notSpecified");if(k)return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,b.jsx)("div",{className:"text-xl text-gray-600",children:j("noSubscription.loading")})});let s=o?.endDate&&new Date(o.endDate)<new Date;return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-linear-to-br from-red-50 to-orange-50 p-4",children:(0,b.jsxs)("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-2xl p-8",children:[(0,b.jsx)("div",{className:"flex justify-center mb-6",children:(0,b.jsx)("div",{className:"w-24 h-24 bg-red-100 rounded-full flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-12 h-12 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-4",children:j("noSubscription.accessRestricted")}),(0,b.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)("div",{className:"flex shrink-0",children:(0,b.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,b.jsx)("div",{className:"ml-3",children:(0,b.jsx)("p",{className:"text-sm text-red-700 font-medium",children:s?j("noSubscription.subscriptionExpired").replace("{orgName}",m).replace("{date}",r(o.endDate)):j("noSubscription.noActiveSubscription").replace("{orgName}",m)})})]})}),(0,b.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,b.jsx)("p",{className:"text-gray-600 text-center",children:j("noSubscription.accessRequirement")}),o&&(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsxs)("span",{className:"text-gray-600",children:[j("noSubscription.status"),":"]}),(0,b.jsx)("span",{className:"font-semibold text-red-600",children:s?j("noSubscription.expired"):j("noSubscription.notActive")})]}),o.endDate&&(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsxs)("span",{className:"text-gray-600",children:[j("noSubscription.endDate"),":"]}),(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:r(o.endDate)})]})]}),(0,b.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:[(0,b.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:j("noSubscription.whatToDo")}),(0,b.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,b.jsxs)("li",{children:["• ",j("noSubscription.contactAdmin")]}),(0,b.jsxs)("li",{children:["• ",j("noSubscription.adminCanRenew")]})]})]})]}),(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)("button",{onClick:q,className:"px-8 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-800 transition-colors font-medium",children:j("noSubscription.logout")})}),(0,b.jsx)("div",{className:"mt-8 pt-6 border-t text-center",children:(0,b.jsx)("p",{className:"text-xs text-gray-500",children:j("noSubscription.footer")})})]})})}a.s(["default",()=>i])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ed986719._.js.map