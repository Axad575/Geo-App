{"version":3,"sources":["../../../../app/pages/projects/%5Bid%5D/tasks/page.js"],"sourcesContent":["\"use client\";\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter, useParams } from 'next/navigation';\r\nimport { getAuth, onAuthStateChanged } from 'firebase/auth';\r\nimport { app, db } from '@/app/api/firebase';\r\nimport { doc, getDoc, updateDoc, arrayUnion, getDocs, collection } from 'firebase/firestore';\r\nimport Sidebar from '@/app/components/sidebar';\r\nimport Navbar from '@/app/components/navbar';\r\nimport ParticipantSelector from '@/app/components/participantSelector';\r\nimport { useStrings } from \"@/app/hooks/useStrings\";\r\n\r\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π –ª–æ–∫–∞–ª–∏\r\nconst getCurrentLocale = () => {\r\n    if (typeof window === 'undefined') return 'ru-RU';\r\n    \r\n    const currentLanguage = localStorage.getItem('language') || 'ru';\r\n    const localeMap = {\r\n        'ru': 'ru-RU',\r\n        'en': 'en-US',\r\n        'uz': 'uz-UZ'\r\n    };\r\n    \r\n    return localeMap[currentLanguage] || 'ru-RU';\r\n};\r\n\r\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç—ã\r\nconst formatDate = (dateString, t) => {\r\n    if (!dateString) return t('tasks.notSpecified');\r\n    \r\n    try {\r\n        const date = new Date(dateString);\r\n        if (isNaN(date.getTime())) return t('tasks.invalidDate');\r\n        \r\n         const day = String(date.getDate()).padStart(2, '0');\r\n        const month = String(date.getMonth() + 1).padStart(2, '0');\r\n        const year = date.getFullYear();\r\n        \r\n        return `${day}/${month}/${year}`;\r\n    } catch (error) {\r\n        console.error('Error formatting date:', error);\r\n        return t('tasks.dateError');\r\n    }\r\n};\r\n\r\n// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç Task Card –¥–ª—è Timeline\r\nconst TaskCard = ({ task, users, onTaskUpdate, isSelected, onSelect }) => {\r\n    const { t } = useStrings();\r\n    const [isExpanded, setIsExpanded] = useState(false);\r\n\r\n    const getPriorityColor = (priority) => {\r\n        switch (priority?.toLowerCase()) {\r\n            case 'high': return 'border-l-red-500 bg-red-50';\r\n            case 'medium': return 'border-l-yellow-500 bg-yellow-50';\r\n            case 'low': return 'border-l-green-500 bg-green-50';\r\n            case 'critical': return 'border-l-purple-500 bg-purple-50';\r\n            default: return 'border-l-gray-500 bg-gray-50';\r\n        }\r\n    };\r\n\r\n    const getStatusColor = (status) => {\r\n        switch (status?.toLowerCase()) {\r\n            case 'completed': return 'bg-green-100 text-green-800';\r\n            case 'in progress': return 'bg-blue-100 text-blue-800';\r\n            case 'not started': return 'bg-gray-100 text-gray-800';\r\n            default: return 'bg-gray-100 text-gray-800';\r\n        }\r\n    };\r\n\r\n    const getStatusText = (status) => {\r\n        switch (status?.toLowerCase()) {\r\n            case 'completed': return t('tasks.completed');\r\n            case 'in progress': return t('tasks.inProgress');\r\n            case 'not started': return t('tasks.notStarted');\r\n            default: return status;\r\n        }\r\n    };\r\n\r\n    const getPriorityText = (priority) => {\r\n        switch (priority?.toLowerCase()) {\r\n            case 'low': return t('tasks.low');\r\n            case 'medium': return t('tasks.medium');\r\n            case 'high': return t('tasks.high');\r\n            case 'critical': return t('tasks.critical');\r\n            default: return t('tasks.medium');\r\n        }\r\n    };\r\n\r\n    const isOverdue = task.dueDate && task.status !== 'completed' && new Date(task.dueDate) < new Date();\r\n\r\n    const handleStatusChange = async (newStatus) => {\r\n        await onTaskUpdate(task.id, { status: newStatus });\r\n    };\r\n\r\n    return (\r\n        <div \r\n            className={`bg-white rounded-lg shadow-sm border-l-4 p-4 hover:shadow-md transition-all cursor-pointer ${\r\n                getPriorityColor(task.priority)\r\n            } ${isSelected ? 'ring-2 ring-blue-400' : ''} ${isOverdue ? 'border-red-300' : ''}`}\r\n            onClick={() => onSelect(task)}\r\n        >\r\n            {/* Card Header */}\r\n            <div className=\"flex items-start justify-between mb-3\">\r\n                <div className=\"flex-1\">\r\n                    <h3 className=\"font-semibold text-gray-900 mb-1\">{task.title}</h3>\r\n                    {task.description && (\r\n                        <p className=\"text-sm text-gray-600 line-clamp-2\">{task.description}</p>\r\n                    )}\r\n                </div>\r\n                \r\n                <button\r\n                    onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        setIsExpanded(!isExpanded);\r\n                    }}\r\n                    className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                    {isExpanded ? '‚àí' : '+'}\r\n                </button>\r\n            </div>\r\n\r\n            {/* Card Info */}\r\n            <div className=\"flex items-center justify-between text-sm\">\r\n                <div className=\"flex items-center gap-3\">\r\n                    {/* Status */}\r\n                    <span className={`px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(task.status)}`}>\r\n                        {getStatusText(task.status)}\r\n                    </span>\r\n\r\n                    {/* Priority */}\r\n                    <span className=\"text-xs text-gray-500\">\r\n                        {getPriorityText(task.priority)}\r\n                    </span>\r\n                </div>\r\n\r\n                {/* Assignee */}\r\n                {task.assignee && (\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <div className=\"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-medium\">\r\n                            {(users[task.assignee] || task.assignee).charAt(0).toUpperCase()}\r\n                        </div>\r\n                        <span className=\"text-xs text-gray-600\">\r\n                            {(users[task.assignee] || task.assignee).split(' ')[0]}\r\n                        </span>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Due Date */}\r\n            {task.dueDate && (\r\n                <div className={`mt-2 text-xs ${isOverdue ? 'text-red-600 font-medium' : 'text-gray-500'}`}>\r\n                    üìÖ {formatDate(task.dueDate, t)}\r\n                    {isOverdue && ` (${t('tasks.overdue')})`}\r\n                </div>\r\n            )}\r\n\r\n            {/* Expanded Content */}\r\n            {isExpanded && (\r\n                <div className=\"mt-4 pt-4 border-t border-gray-200 space-y-3\" onClick={(e) => e.stopPropagation()}>\r\n                    {/* Full Description */}\r\n                    {task.description && (\r\n                        <div>\r\n                            <label className=\"text-xs font-medium text-gray-700\">{t('tasks.description')}</label>\r\n                            <p className=\"text-sm text-gray-600 mt-1\">{task.description}</p>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Assignee Info */}\r\n                    {task.assignee && (\r\n                        <div>\r\n                            <label className=\"text-xs font-medium text-gray-700\">{t('tasks.executor')}</label>\r\n                            <div className=\"flex items-center gap-2 mt-1\">\r\n                                <div className=\"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-medium\">\r\n                                    {(users[task.assignee] || task.assignee).charAt(0).toUpperCase()}\r\n                                </div>\r\n                                <span className=\"text-sm text-gray-900\">\r\n                                    {users[task.assignee] || task.assignee}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Action Buttons */}\r\n                    <div className=\"flex gap-2\">\r\n                        {task.status !== 'completed' && (\r\n                            <>\r\n                                {task.status !== 'in progress' && (\r\n                                    <button\r\n                                        onClick={(e) => {\r\n                                            e.stopPropagation();\r\n                                            handleStatusChange('in progress');\r\n                                        }}\r\n                                        className=\"px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors\"\r\n                                    >\r\n                                        {t('tasks.startTask')}\r\n                                    </button>\r\n                                )}\r\n                                <button\r\n                                    onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        handleStatusChange('completed');\r\n                                    }}\r\n                                    className=\"px-3 py-1 text-xs bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors\"\r\n                                >\r\n                                    {t('tasks.finishTask')}\r\n                                </button>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Metadata */}\r\n                    <div className=\"text-xs text-gray-500 space-y-1\">\r\n                        {task.createdAt && (\r\n                            <div>{t('tasks.created')}: {formatDate(task.createdAt, t)}</div>\r\n                        )}\r\n                        {task.updatedAt && (\r\n                            <div>{t('tasks.updated')}: {formatDate(task.updatedAt, t)}</div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\n// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç Timeline\r\nconst Timeline = ({ tasks, users, onTaskUpdate, selectedTask, onTaskSelect, currentFilter, sortBy }) => {\r\n    const { t } = useStrings();\r\n    \r\n    // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á\r\n    const getFilteredAndSortedTasks = () => {\r\n        let filteredTasks = [...tasks];\r\n\r\n        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è\r\n        if (currentFilter !== 'all') {\r\n            filteredTasks = filteredTasks.filter(task => task.status === currentFilter);\r\n        }\r\n\r\n        // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞\r\n        filteredTasks.sort((a, b) => {\r\n            switch (sortBy) {\r\n                case 'dueDate':\r\n                    if (!a.dueDate && !b.dueDate) return 0;\r\n                    if (!a.dueDate) return 1;\r\n                    if (!b.dueDate) return -1;\r\n                    return new Date(a.dueDate) - new Date(b.dueDate);\r\n                case 'priority':\r\n                    const priorityOrder = { 'critical': 4, 'high': 3, 'medium': 2, 'low': 1 };\r\n                    return (priorityOrder[b.priority] || 2) - (priorityOrder[a.priority] || 2);\r\n                case 'createdAt':\r\n                    return new Date(b.createdAt || 0) - new Date(a.createdAt || 0);\r\n                default:\r\n                    return 0;\r\n            }\r\n        });\r\n\r\n        return filteredTasks;\r\n    };\r\n\r\n    const sortedTasks = getFilteredAndSortedTasks();\r\n\r\n    // –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∑–∞–¥–∞—á –ø–æ –¥–∞—Ç–∞–º\r\n    const groupTasksByDate = () => {\r\n        const groups = {};\r\n        const today = new Date();\r\n        const tomorrow = new Date(today);\r\n        tomorrow.setDate(tomorrow.getDate() + 1);\r\n        const yesterday = new Date(today);\r\n        yesterday.setDate(yesterday.getDate() - 1);\r\n\r\n        sortedTasks.forEach(task => {\r\n            if (!task.dueDate) {\r\n                if (!groups[t('tasks.noDeadline')]) groups[t('tasks.noDeadline')] = [];\r\n                groups[t('tasks.noDeadline')].push(task);\r\n                return;\r\n            }\r\n\r\n            const dueDate = new Date(task.dueDate);\r\n            let groupKey;\r\n\r\n            if (dueDate.toDateString() === today.toDateString()) {\r\n                groupKey = t('tasks.today');\r\n            } else if (dueDate.toDateString() === tomorrow.toDateString()) {\r\n                groupKey = t('tasks.tomorrow');\r\n            } else if (dueDate.toDateString() === yesterday.toDateString()) {\r\n                groupKey = t('tasks.yesterday');\r\n            } else if (dueDate < today) {\r\n                groupKey = t('tasks.overdueTasks');\r\n            } else {\r\n                const selectedLocale = getCurrentLocale();\r\n                \r\n                groupKey = dueDate.toLocaleDateString(selectedLocale, { \r\n                    day: '2-digit', \r\n                    month: 'long',\r\n                    year: dueDate.getFullYear() !== today.getFullYear() ? 'numeric' : undefined\r\n                });\r\n            }\r\n\r\n            if (!groups[groupKey]) groups[groupKey] = [];\r\n            groups[groupKey].push(task);\r\n        });\r\n\r\n        return groups;\r\n    };\r\n\r\n    const groupedTasks = groupTasksByDate();\r\n\r\n    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ü–≤–µ—Ç –¥–ª—è –≥—Ä—É–ø–ø—ã\r\n    const getGroupColor = (groupName) => {\r\n        if (groupName === t('tasks.overdueTasks')) return 'text-red-600 border-red-200 bg-red-50';\r\n        if (groupName === t('tasks.today')) return 'text-blue-600 border-blue-200 bg-blue-50';\r\n        if (groupName === t('tasks.tomorrow')) return 'text-green-600 border-green-200 bg-green-50';\r\n        return 'text-gray-600 border-gray-200 bg-gray-50';\r\n    };\r\n\r\n    if (sortedTasks.length === 0) {\r\n        return (\r\n            <div className=\"flex flex-col items-center justify-center h-64 text-gray-500\">\r\n                <div className=\"text-6xl mb-4\">üìã</div>\r\n                <h3 className=\"text-lg font-medium mb-2\">{t('tasks.noTasksFound')}</h3>\r\n                <p className=\"text-sm\">{t('tasks.createNewTask')}</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {Object.entries(groupedTasks).map(([groupName, groupTasks]) => (\r\n                <div key={groupName} className=\"relative\">\r\n                    {/* Group Header */}\r\n                    <div className={`sticky top-0 z-10 px-4 py-2 rounded-lg border-l-4 font-medium ${getGroupColor(groupName)}`}>\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <h3 className=\"text-sm font-semibold\">\r\n                                {groupName}\r\n                            </h3>\r\n                            <span className=\"text-xs bg-white px-2 py-1 rounded-full\">\r\n                                {groupTasks.length}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Timeline Line */}\r\n                    <div className=\"absolute left-6 top-10 bottom-0 w-0.5 bg-gray-200\"></div>\r\n\r\n                    {/* Task Cards */}\r\n                    <div className=\"ml-12 mt-4 space-y-4\">\r\n                        {groupTasks.map((task) => (\r\n                            <div key={task.id} className=\"relative\">\r\n                                {/* Timeline Dot */}\r\n                                <div className={`absolute -left-8 top-4 w-3 h-3 rounded-full border-2 bg-white ${\r\n                                    task.status === 'completed' ? 'border-green-500' :\r\n                                    task.status === 'in progress' ? 'border-blue-500' :\r\n                                    'border-gray-300'\r\n                                }`}></div>\r\n\r\n                                {/* Task Card */}\r\n                                <TaskCard\r\n                                    task={task}\r\n                                    users={users}\r\n                                    onTaskUpdate={onTaskUpdate}\r\n                                    isSelected={selectedTask?.id === task.id}\r\n                                    onSelect={onTaskSelect}\r\n                                />\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\n// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç Filters and Controls\r\nconst TaskControls = ({ currentFilter, onFilterChange, sortBy, onSortChange, taskStats }) => {\r\n    const { t } = useStrings();\r\n    \r\n    return (\r\n        <div className=\"bg-white rounded-lg shadow-sm border p-4 mb-6\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"font-medium text-gray-900\">{t('tasks.filtersAndSort')}</h3>\r\n                \r\n                {/* Stats */}\r\n                <div className=\"flex items-center gap-4 text-sm\">\r\n                    <span className=\"px-2 py-1 bg-gray-100 rounded-full\">\r\n                        {t('tasks.total')}: {taskStats.total}\r\n                    </span>\r\n                    <span className=\"px-2 py-1 bg-blue-100 text-blue-700 rounded-full\">\r\n                        {t('tasks.inProgressCount')}: {taskStats.inProgress}\r\n                    </span>\r\n                    <span className=\"px-2 py-1 bg-green-100 text-green-700 rounded-full\">\r\n                        {t('tasks.completedCount')}: {taskStats.completed}\r\n                    </span>\r\n                    {taskStats.overdue > 0 && (\r\n                        <span className=\"px-2 py-1 bg-red-100 text-red-700 rounded-full\">\r\n                            {t('tasks.overdueCount')}: {taskStats.overdue}\r\n                        </span>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-4\">\r\n                {/* Status Filter */}\r\n                <div className=\"flex items-center gap-2\">\r\n                    <label className=\"text-sm font-medium text-gray-700\">{t('tasks.status')}:</label>\r\n                    <select\r\n                        value={currentFilter}\r\n                        onChange={(e) => onFilterChange(e.target.value)}\r\n                        className=\"text-sm border border-gray-300 rounded px-3 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                    >\r\n                        <option value=\"all\">{t('tasks.allTasks')}</option>\r\n                        <option value=\"not started\">{t('tasks.notStartedTasks')}</option>\r\n                        <option value=\"in progress\">{t('tasks.inProgressTasks')}</option>\r\n                        <option value=\"completed\">{t('tasks.completedTasks')}</option>\r\n                    </select>\r\n                </div>\r\n\r\n                {/* Sort */}\r\n                <div className=\"flex items-center gap-2\">\r\n                    <label className=\"text-sm font-medium text-gray-700\">{t('tasks.sorting')}:</label>\r\n                    <select\r\n                        value={sortBy}\r\n                        onChange={(e) => onSortChange(e.target.value)}\r\n                        className=\"text-sm border border-gray-300 rounded px-3 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                    >\r\n                        <option value=\"dueDate\">{t('tasks.byDueDate')}</option>\r\n                        <option value=\"priority\">{t('tasks.byPriority')}</option>\r\n                        <option value=\"createdAt\">{t('tasks.byCreatedDate')}</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç Add Task Modal\r\nconst AddTaskModal = ({ isOpen, onClose, onAdd, users, project }) => {\r\n    const { t } = useStrings();\r\n    \r\n    const [newTask, setNewTask] = useState({\r\n        title: '',\r\n        description: '',\r\n        assignee: '',\r\n        priority: 'medium',\r\n        startDate: '',\r\n        dueDate: '',\r\n        status: 'not started',\r\n        locationId: ''\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –æ–±—ä–µ–∫—Ç users –≤ –º–∞—Å—Å–∏–≤ –¥–ª—è ParticipantSelector\r\n    const usersList = Object.entries(users).map(([id, name]) => ({\r\n        id,\r\n        name: name || id,\r\n        email: id,\r\n        role: 'member'\r\n    }));\r\n\r\n    // –§–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–ª—å–∫–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞\r\n    const projectParticipants = usersList.filter(user => \r\n        project?.participants?.includes(user.id)\r\n    );\r\n\r\n    const handleAssigneeChange = (selectedUsers) => {\r\n        setNewTask(prev => ({\r\n            ...prev,\r\n            assignee: selectedUsers.length > 0 ? selectedUsers[0] : ''\r\n        }));\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (!newTask.title.trim()) return;\r\n\r\n        setLoading(true);\r\n        try {\r\n            await onAdd(newTask);\r\n            setNewTask({\r\n                title: '',\r\n                description: '',\r\n                assignee: '',\r\n                priority: 'medium',\r\n                startDate: '',\r\n                dueDate: '',\r\n                status: 'not started',\r\n                locationId: ''\r\n            });\r\n            onClose();\r\n        } catch (error) {\r\n            console.error('Error creating task:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const resetForm = () => {\r\n        setNewTask({\r\n            title: '',\r\n            description: '',\r\n            assignee: '',\r\n            priority: 'medium',\r\n            startDate: '',\r\n            dueDate: '',\r\n            status: 'not started',\r\n            locationId: ''\r\n        });\r\n        onClose();\r\n    };\r\n\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n            <div className=\"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                    <h3 className=\"text-lg font-semibold\">{t('tasks.createTask')}</h3>\r\n                    <button\r\n                        onClick={resetForm}\r\n                        className=\"text-gray-400 hover:text-gray-600\"\r\n                    >\r\n                        <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n\r\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                    {/* Title */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                            {t('tasks.taskTitleRequired')}\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={newTask.title}\r\n                            onChange={(e) => setNewTask(prev => ({ ...prev, title: e.target.value }))}\r\n                            className=\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            placeholder={t('tasks.enterTaskTitle')}\r\n                            required\r\n                            disabled={loading}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Description */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                            {t('tasks.taskDescription')}\r\n                        </label>\r\n                        <textarea\r\n                            value={newTask.description}\r\n                            onChange={(e) => setNewTask(prev => ({ ...prev, description: e.target.value }))}\r\n                            className=\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            rows=\"3\"\r\n                            placeholder={t('tasks.taskDescriptionPlaceholder')}\r\n                            disabled={loading}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                        {/* Assignee */}\r\n                        <div>\r\n                            <ParticipantSelector\r\n                                users={projectParticipants}\r\n                                selectedParticipants={newTask.assignee ? [newTask.assignee] : []}\r\n                                onParticipantsChange={handleAssigneeChange}\r\n                                allowMultiple={false}\r\n                                label={t('tasks.selectAssignee')}\r\n                                placeholder={t('tasks.searchAssignee')}\r\n                                maxHeight=\"150px\"\r\n                                showSelectedCount={false}\r\n                                className=\"w-full\"\r\n                            />\r\n                            \r\n                            {projectParticipants.length === 0 && (\r\n                                <div className=\"text-xs text-gray-500 mt-1\">\r\n                                    {t('tasks.noParticipants')}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Priority */}\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                {t('tasks.priority')}\r\n                            </label>\r\n                            <select\r\n                                value={newTask.priority}\r\n                                onChange={(e) => setNewTask(prev => ({ ...prev, priority: e.target.value }))}\r\n                                className=\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                                disabled={loading}\r\n                            >\r\n                                <option value=\"low\">{t('tasks.lowPriority')}</option>\r\n                                <option value=\"medium\">{t('tasks.mediumPriority')}</option>\r\n                                <option value=\"high\">{t('tasks.highPriority')}</option>\r\n                                <option value=\"critical\">{t('tasks.criticalPriority')}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                        {/* Start Date */}\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                {t('tasks.startDate')}\r\n                            </label>\r\n                            <input\r\n                                type=\"date\"\r\n                                value={newTask.startDate}\r\n                                onChange={(e) => setNewTask(prev => ({ ...prev, startDate: e.target.value }))}\r\n                                className=\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                                disabled={loading}\r\n                            />\r\n                        </div>\r\n\r\n                        {/* Due Date */}\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                                {t('tasks.dueDate')}\r\n                            </label>\r\n                            <input\r\n                                type=\"date\"\r\n                                value={newTask.dueDate}\r\n                                onChange={(e) => setNewTask(prev => ({ ...prev, dueDate: e.target.value }))}\r\n                                className=\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                                disabled={loading}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Status */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                            {t('tasks.taskStatus')}\r\n                        </label>\r\n                        <select\r\n                            value={newTask.status}\r\n                            onChange={(e) => setNewTask(prev => ({ ...prev, status: e.target.value }))}\r\n                            className=\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            disabled={loading}\r\n                        >\r\n                            <option value=\"not started\">{t('tasks.notStarted')}</option>\r\n                            <option value=\"in progress\">{t('tasks.inProgress')}</option>\r\n                            <option value=\"completed\">{t('tasks.completed')}</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    {/* Location */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                            {t('tasks.relatedLocation')}\r\n                        </label>\r\n                        <select\r\n                            value={newTask.locationId}\r\n                            onChange={(e) => setNewTask(prev => ({ ...prev, locationId: e.target.value }))}\r\n                            className=\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            disabled={loading}\r\n                        >\r\n                            <option value=\"\">{t('tasks.noLocation')}</option>\r\n                            {project?.locations?.map((location) => (\r\n                                <option key={location.id} value={location.id}>\r\n                                    üìç {location.name}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n\r\n                    {/* Selected Assignee Display */}\r\n                    {newTask.assignee && (\r\n                        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div className=\"flex items-center gap-2\">\r\n                                    <div className=\"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-medium\">\r\n                                        {(users[newTask.assignee] || newTask.assignee).charAt(0).toUpperCase()}\r\n                                    </div>\r\n                                    <div>\r\n                                        <div className=\"text-sm font-medium text-blue-900\">\r\n                                            {t('tasks.assignedTo')}: {users[newTask.assignee] || newTask.assignee}\r\n                                        </div>\r\n                                        <div className=\"text-xs text-blue-600\">\r\n                                            {t('tasks.taskWillBeAssigned')}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => setNewTask(prev => ({ ...prev, assignee: '' }))}\r\n                                    className=\"text-blue-400 hover:text-blue-600\"\r\n                                    disabled={loading}\r\n                                >\r\n                                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\r\n                                    </svg>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"flex gap-3 pt-4\">\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={!newTask.title.trim() || loading}\r\n                            className=\"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n                        >\r\n                            {loading ? t('tasks.creating') : t('tasks.createButton')}\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={resetForm}\r\n                            disabled={loading}\r\n                            className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 disabled:opacity-50 transition-colors\"\r\n                        >\r\n                            {t('tasks.cancel')}\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞–¥–∞—á\r\nexport default function ProjectTasks() {\r\n    const auth = getAuth(app);\r\n    const router = useRouter();\r\n    const params = useParams();\r\n    const { t } = useStrings();\r\n    const projectId = params.id;\r\n\r\n    const [project, setProject] = useState(null);\r\n    const [tasks, setTasks] = useState([]);\r\n    const [users, setUsers] = useState({});\r\n    const [orgId, setOrgId] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [showAddTask, setShowAddTask] = useState(false);\r\n    const [selectedTask, setSelectedTask] = useState(null);\r\n    const [currentFilter, setCurrentFilter] = useState('all');\r\n    const [sortBy, setSortBy] = useState('dueDate');\r\n\r\n    // –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏\r\n    const getCurrentUserOrg = async (userId) => {\r\n        try {\r\n            const organizationsSnapshot = await getDocs(collection(db, 'organizations'));\r\n            \r\n            for (const orgDoc of organizationsSnapshot.docs) {\r\n                const userInOrgDoc = await getDoc(doc(db, `organizations/${orgDoc.id}/users/${userId}`));\r\n                if (userInOrgDoc.exists()) {\r\n                    return orgDoc.id;\r\n                }\r\n            }\r\n            return null;\r\n        } catch (error) {\r\n            console.error('Error fetching user organization:', error);\r\n            return null;\r\n        }\r\n    };\r\n\r\n    // –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞\r\n    const fetchProject = async (organizationId) => {\r\n        try {\r\n            const projectDoc = await getDoc(doc(db, `organizations/${organizationId}/projects/${projectId}`));\r\n            if (projectDoc.exists()) {\r\n                const projectData = { id: projectDoc.id, ...projectDoc.data() };\r\n                setProject(projectData);\r\n                setTasks(projectData.tasks || []);\r\n            } else {\r\n                router.push('/pages/projects');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching project:', error);\r\n        }\r\n    };\r\n\r\n    // –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏\r\n    const fetchUsers = async (organizationId) => {\r\n        try {\r\n            const usersSnapshot = await getDocs(collection(db, `organizations/${organizationId}/users`));\r\n            const usersMap = {};\r\n            usersSnapshot.docs.forEach(doc => {\r\n                usersMap[doc.id] = doc.data().name || doc.data().email;\r\n            });\r\n            setUsers(usersMap);\r\n        } catch (error) {\r\n            console.error('Error fetching users:', error);\r\n        }\r\n    };\r\n\r\n    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏\r\n    const handleAddTask = async (taskData) => {\r\n        try {\r\n            const newTask = {\r\n                ...taskData,\r\n                id: Date.now().toString(),\r\n                createdAt: new Date().toISOString(),\r\n                createdBy: auth.currentUser?.uid,\r\n                createdByName: users[auth.currentUser?.uid] || auth.currentUser?.email\r\n            };\r\n\r\n            const projectRef = doc(db, `organizations/${orgId}/projects/${projectId}`);\r\n            await updateDoc(projectRef, {\r\n                tasks: arrayUnion(newTask)\r\n            });\r\n\r\n            setTasks(prev => [...prev, newTask]);\r\n        } catch (error) {\r\n            console.error('Error adding task:', error);\r\n        }\r\n    };\r\n\r\n    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏\r\n    const handleTaskUpdate = async (taskId, updates) => {\r\n        try {\r\n            const updatedTasks = tasks.map(task => \r\n                task.id === taskId \r\n                    ? { ...task, ...updates, updatedAt: new Date().toISOString() }\r\n                    : task\r\n            );\r\n\r\n            const projectRef = doc(db, `organizations/${orgId}/projects/${projectId}`);\r\n            await updateDoc(projectRef, {\r\n                tasks: updatedTasks\r\n            });\r\n\r\n            setTasks(updatedTasks);\r\n        } catch (error) {\r\n            console.error('Error updating task:', error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onAuthStateChanged(auth, async (user) => {\r\n            if (user) {\r\n                const userOrgId = await getCurrentUserOrg(user.uid);\r\n                if (userOrgId) {\r\n                    setOrgId(userOrgId);\r\n                    await fetchProject(userOrgId);\r\n                    await fetchUsers(userOrgId);\r\n                } else {\r\n                    router.push('/auth/login');\r\n                }\r\n            } else {\r\n                router.push('/auth/login');\r\n            }\r\n            setLoading(false);\r\n        });\r\n\r\n        return () => unsubscribe();\r\n    }, [projectId]);\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex h-screen bg-gray-50\">\r\n                <Sidebar orgId={orgId} />\r\n                <div className=\"flex-1\">\r\n                    <Navbar orgId={orgId} />\r\n                    <div className=\"p-8\">\r\n                        <div className=\"text-center\">{t('tasks.loading')}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const taskStats = {\r\n        total: tasks.length,\r\n        notStarted: tasks.filter(t => t.status === 'not started').length,\r\n        inProgress: tasks.filter(t => t.status === 'in progress').length,\r\n        completed: tasks.filter(t => t.status === 'completed').length,\r\n        overdue: tasks.filter(t => {\r\n            if (!t.dueDate || t.status === 'completed') return false;\r\n            return new Date(t.dueDate) < new Date();\r\n        }).length\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex h-screen bg-gray-50\">\r\n            <Sidebar orgId={orgId} />\r\n            <div className=\"flex-1 flex flex-col\">\r\n                <Navbar orgId={orgId} />\r\n                <div className=\"flex-1 p-6 overflow-auto\">\r\n                    {/* Header */}\r\n                    <div className=\"flex items-center justify-between mb-6\">\r\n                        <div className=\"flex items-center gap-4\">\r\n                            <h1 className=\"text-2xl font-bold\">{t('tasks.timeline')}</h1>\r\n                            <div className=\"text-sm text-gray-600\">\r\n                                {project?.title}\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <div className=\"flex gap-3\">\r\n                            <button\r\n                                onClick={() => setShowAddTask(true)}\r\n                                className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors\"\r\n                            >\r\n                                + {t('tasks.newTask')}\r\n                            </button>\r\n                            <button\r\n                                onClick={() => router.push(`/pages/projects/${projectId}`)}\r\n                                className=\"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition-colors\"\r\n                            >\r\n                                ‚Üê {t('tasks.backToProject')}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Project Info */}\r\n                    {project && (\r\n                        <div className=\"bg-white rounded-lg shadow-sm border p-4 mb-6\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div>\r\n                                    <h2 className=\"text-lg font-semibold text-gray-900\">{project.title}</h2>\r\n                                    <p className=\"text-sm text-gray-600\">{project.description}</p>\r\n                                </div>\r\n                                <div className=\"flex gap-4 text-sm text-gray-600\">\r\n                                    {project.createdAt && (\r\n                                        <div className=\"flex flex-col items-center\">\r\n                                            <span className=\"text-xs text-gray-500\">{t('tasks.projectCreated')}</span>\r\n                                            <span className=\"text-sm\">{formatDate(project.createdAt, t)}</span>\r\n                                        </div>\r\n                                    )}\r\n                                    {project.startDate && (\r\n                                        <div className=\"flex flex-col items-center\">\r\n                                            <span className=\"text-xs text-gray-500\">{t('tasks.projectStart')}</span>\r\n                                            <span className=\"text-sm\">{formatDate(project.startDate, t)}</span>\r\n                                        </div>\r\n                                    )}\r\n                                    {project.endDate && (\r\n                                        <div className=\"flex flex-col items-center\">\r\n                                            <span className=\"text-xs text-gray-500\">{t('tasks.projectEnd')}</span>\r\n                                            <span className=\"text-sm\">{formatDate(project.endDate, t)}</span>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Controls */}\r\n                    <TaskControls\r\n                        currentFilter={currentFilter}\r\n                        onFilterChange={setCurrentFilter}\r\n                        sortBy={sortBy}\r\n                        onSortChange={setSortBy}\r\n                        taskStats={taskStats}\r\n                    />\r\n\r\n                    {/* Timeline */}\r\n                    <div className=\"max-w-4xl\">\r\n                        <Timeline\r\n                            tasks={tasks}\r\n                            users={users}\r\n                            onTaskUpdate={handleTaskUpdate}\r\n                            selectedTask={selectedTask}\r\n                            onTaskSelect={setSelectedTask}\r\n                            currentFilter={currentFilter}\r\n                            sortBy={sortBy}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Add Task Modal */}\r\n            <AddTaskModal\r\n                isOpen={showAddTask}\r\n                onClose={() => setShowAddTask(false)}\r\n                onAdd={handleAddTask}\r\n                users={users}\r\n                project={project}\r\n            />\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":"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"}