module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},84496,80858,a=>{"use strict";var b=a.i(87924),c=a.i(50944),d=a.i(10682);function e(){let a=(0,c.useRouter)(),{t:e}=(0,d.useStrings)();return(0,b.jsxs)("div",{className:"sticky top-2 w-56 h-screen bg-green-800 text-white flex flex-col justify-between rounded-lg shadow-lg m-2 shrink-0 z-10",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"p-4 text-2xl font-semibold",children:"Geo-Note"}),(0,b.jsxs)("div",{className:"flex flex-col space-y-4 mt-4 px-4",children:[(0,b.jsx)("button",{onClick:b=>{b.preventDefault(),console.log("Projects button clicked"),a.push("/pages/projects")},className:"bg-green-400 text-black py-2 rounded-md hover:bg-green-300 transition",children:e("nav.projects")}),(0,b.jsx)("button",{onClick:b=>{b.preventDefault(),console.log("News button clicked"),a.push("/pages/news")},className:"bg-green-400 text-black py-2 rounded-md hover:bg-green-300 transition",children:e("nav.news")}),(0,b.jsx)("button",{onClick:b=>{b.preventDefault(),console.log("Meetings button clicked"),a.push("/pages/meetings")},className:"bg-green-400 text-black py-2 rounded-md hover:bg-green-300 transition",children:e("nav.meetings")}),(0,b.jsx)("button",{onClick:b=>{b.preventDefault(),console.log("Notes button clicked"),a.push("/pages/notes")},className:"bg-green-400 text-black py-2 rounded-md hover:bg-green-300 transition",children:e("nav.notes")})]})]}),(0,b.jsxs)("div",{className:"p-4 text-xs text-gray-200",children:[(0,b.jsx)("div",{className:"flex flex-col space-y-4 mt-4 px-4 mb-4",children:(0,b.jsx)("button",{onClick:b=>{b.preventDefault(),console.log("Tickets button clicked"),a.push("/pages/tickets")},className:"bg-green-400 text-black py-2 rounded-md hover:bg-green-300 transition",children:e("nav.tickets")})}),(0,b.jsx)("p",{children:"Made by abdu1axad and dantajd"}),(0,b.jsx)("p",{children:"Copyright 2025"})]})]})}a.s(["default",()=>e],84496);var f=a.i(72131);function g(){let{t:a,language:e}=(0,d.useStrings)(),[g,h]=(0,f.useState)(a("navbar.determining")),[i,j]=(0,f.useState)(!1),k=(0,c.useRouter)();(0,f.useEffect)(()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(a=>{let{latitude:b,longitude:c}=a.coords;h(`${b.toFixed(5)}, ${c.toFixed(5)}`)},b=>{console.error(b),h(a("navbar.geolocationError"))}):h(a("navbar.geolocationUnavailable"))},[a]);let l=a=>{(0,d.changeLanguage)(a),j(!1)};return(0,b.jsxs)("div",{className:"flex items-center justify-between bg-green-900 text-white p-6 rounded-xl shadow-md m-2",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("span",{className:"material-symbols-outlined text-lg",children:"location_on"}),(0,b.jsx)("span",{className:"text-sm",children:g})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,b.jsx)("span",{className:"material-symbols-outlined text-lg cursor-pointer hover:text-green-300 transition",onClick:()=>k.push("/pages/homeScreen"),children:"home"}),(0,b.jsx)("span",{className:"material-symbols-outlined text-lg cursor-pointer hover:text-green-300 transition",onClick:()=>k.push("/pages/settings"),children:"settings"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:()=>j(!i),className:"flex items-center space-x-1 cursor-pointer hover:text-green-300 transition text-sm font-medium",children:[(0,b.jsx)("span",{children:(()=>{switch(e){case"ru":return"RU";case"en":default:return"EN";case"uz":return"UZ"}})()}),(0,b.jsx)("svg",{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),i&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>j(!1)}),(0,b.jsxs)("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-lg z-20 overflow-hidden",children:[(0,b.jsxs)("button",{onClick:()=>l("ru"),className:`w-full px-4 py-3 text-left hover:bg-green-50 transition-colors flex items-center space-x-2 ${"ru"===e?"bg-green-50":""}`,children:[(0,b.jsx)("span",{className:"text-gray-800 font-medium",children:"Ð ÑƒÑÑÐºÐ¸Ð¹"}),"ru"===e&&(0,b.jsx)("svg",{className:"w-4 h-4 text-green-600 ml-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})]}),(0,b.jsxs)("button",{onClick:()=>l("en"),className:`w-full px-4 py-3 text-left hover:bg-green-50 transition-colors flex items-center space-x-2 ${"en"===e?"bg-green-50":""}`,children:[(0,b.jsx)("span",{className:"text-gray-800 font-medium",children:"English"}),"en"===e&&(0,b.jsx)("svg",{className:"w-4 h-4 text-green-600 ml-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})]}),(0,b.jsxs)("button",{onClick:()=>l("uz"),className:`w-full px-4 py-3 text-left hover:bg-green-50 transition-colors flex items-center space-x-2 ${"uz"===e?"bg-green-50":""}`,children:[(0,b.jsx)("span",{className:"text-gray-800 font-medium",children:"O'zbekcha"}),"uz"===e&&(0,b.jsx)("svg",{className:"w-4 h-4 text-green-600 ml-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})]})]})]})]})]})]})}a.s(["default",()=>g],80858)},10343,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);a.i(30485);var e=a.i(31052),f=a.i(76650);a.i(69387);var g=a.i(60574),h=a.i(84496),i=a.i(80858),j=a.i(10682);function k(){let a=(0,e.getAuth)(f.app),k=(0,d.useRouter)(),{t:l,language:m}=(0,j.useStrings)(),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)([]),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)("my"),[B,C]=(0,c.useState)({title:"",description:"",type:"suggestion",priority:"medium"}),D=async a=>{try{for(let b of(await (0,g.getDocs)((0,g.collection)(f.db,"organizations"))).docs){let c=await (0,g.getDoc)((0,g.doc)(f.db,`organizations/${b.id}/users/${a}`));if(c.exists())return{orgId:b.id,userData:c.data()}}return null}catch(a){return console.error("Error fetching user organization:",a),null}},E=async(a,b)=>{try{let b=(0,g.collection)(f.db,`organizations/${a}/tickets`),c=(await (0,g.getDocs)((0,g.query)(b,(0,g.orderBy)("createdAt","desc")))).docs.map(a=>({id:a.id,...a.data()}));w(c)}catch(a){console.error("Error fetching tickets:",a)}};(0,c.useEffect)(()=>{let b=(0,e.onAuthStateChanged)(a,async a=>{if(a){o(a);let b=await D(a.uid);b&&(q(b.orgId),await E(b.orgId,a.uid)),s(!1)}else k.push("/auth/login")});return()=>b()},[k]);let F=async a=>{if(a.preventDefault(),!B.title.trim()||!B.description.trim())return void alert(l("tickets.fillAllFields"));u(!0);try{let a=(0,g.collection)(f.db,`organizations/${p}/tickets`);await (0,g.addDoc)(a,{...B,userId:n.uid,userEmail:n.email,userName:n.displayName||n.email,status:"pending",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),C({title:"",description:"",type:"suggestion",priority:"medium"}),y(!1),await E(p,n.uid),alert(l("tickets.ticketSubmitted"))}catch(a){console.error("Error submitting ticket:",a),alert(l("tickets.submitError"))}finally{u(!1)}},G=async a=>{if(confirm(l("tickets.confirmDelete")))try{await (0,g.deleteDoc)((0,g.doc)(f.db,`organizations/${p}/tickets/${a}`)),await E(p,n.uid),alert(l("tickets.ticketDeleted"))}catch(a){console.error("Error deleting ticket:",a),alert(l("tickets.deleteError"))}},H="my"===z?v.filter(a=>a.userId===n?.uid):v;return r?(0,b.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),(0,b.jsxs)("p",{className:"mt-4 text-gray-600",children:[l("loading"),"..."]})]})}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-100 flex",children:[(0,b.jsx)(h.default,{}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,b.jsx)(i.default,{}),(0,b.jsx)("main",{className:"flex-1 p-6",children:(0,b.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:l("tickets.title")}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:l("tickets.subtitle")})]}),(0,b.jsxs)("button",{onClick:()=>y(!x),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),l("tickets.createTicket")]})]}),x&&(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:l("tickets.newTicket")}),(0,b.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l("tickets.ticketTitle")," ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",required:!0,value:B.title,onChange:a=>C(b=>({...b,title:a.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:l("tickets.enterTitle"),disabled:t})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l("tickets.type")}),(0,b.jsxs)("select",{value:B.type,onChange:a=>C(b=>({...b,type:a.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:t,children:[(0,b.jsx)("option",{value:"suggestion",children:l("tickets.suggestion")}),(0,b.jsx)("option",{value:"bug",children:l("tickets.bug")}),(0,b.jsx)("option",{value:"feature",children:l("tickets.feature")}),(0,b.jsx)("option",{value:"question",children:l("tickets.question")}),(0,b.jsx)("option",{value:"other",children:l("tickets.other")})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l("tickets.priority")}),(0,b.jsxs)("select",{value:B.priority,onChange:a=>C(b=>({...b,priority:a.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:t,children:[(0,b.jsx)("option",{value:"low",children:l("tickets.lowPriority")}),(0,b.jsx)("option",{value:"medium",children:l("tickets.mediumPriority")}),(0,b.jsx)("option",{value:"high",children:l("tickets.highPriority")}),(0,b.jsx)("option",{value:"critical",children:l("tickets.criticalPriority")})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l("tickets.description")," ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("textarea",{required:!0,value:B.description,onChange:a=>C(b=>({...b,description:a.target.value})),rows:5,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-vertical",placeholder:l("tickets.enterDescription"),disabled:t})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{type:"submit",disabled:t,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t?l("tickets.submitting"):l("tickets.submit")}),(0,b.jsx)("button",{type:"button",onClick:()=>y(!1),disabled:t,className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 disabled:opacity-50 transition-colors",children:l("cancel")})]})]})]}),(0,b.jsx)("div",{className:"bg-white rounded-lg shadow mb-6",children:(0,b.jsx)("div",{className:"border-b border-gray-200",children:(0,b.jsxs)("nav",{className:"flex space-x-8 px-6",children:[(0,b.jsxs)("button",{onClick:()=>A("my"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${"my"===z?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l("tickets.myTickets")," (",v.filter(a=>a.userId===n?.uid).length,")"]}),(0,b.jsxs)("button",{onClick:()=>A("all"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${"all"===z?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l("tickets.allTickets")," (",v.length,")"]})]})})}),(0,b.jsx)("div",{className:"space-y-4",children:0===H.length?(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ“‹"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:l("tickets.noTickets")}),(0,b.jsx)("p",{className:"text-gray-600",children:l("tickets.noTicketsDescription")})]}):H.map(a=>{var c,d,e;let f,g,h,i,j,k;return(0,b.jsx)("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow p-6",children:(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:a.title}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(c=a.type,f={suggestion:"bg-purple-100 text-purple-800",bug:"bg-red-100 text-red-800",feature:"bg-blue-100 text-blue-800",question:"bg-gray-100 text-gray-800",other:"bg-gray-100 text-gray-800"},g={suggestion:l("tickets.suggestion"),bug:l("tickets.bug"),feature:l("tickets.feature"),question:l("tickets.question"),other:l("tickets.other")},(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${f[c]||f.other}`,children:g[c]||c})),(d=a.priority,h={low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",critical:"bg-red-100 text-red-800"},i={low:l("tickets.lowPriority"),medium:l("tickets.mediumPriority"),high:l("tickets.highPriority"),critical:l("tickets.criticalPriority")},(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${h[d]||h.medium}`,children:i[d]||d})),(e=a.status,j={pending:"bg-yellow-100 text-yellow-800",in_progress:"bg-blue-100 text-blue-800",resolved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"},k={pending:l("tickets.pending"),in_progress:l("tickets.inProgress"),resolved:l("tickets.resolved"),rejected:l("tickets.rejected")},(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${j[e]||j.pending}`,children:k[e]||e}))]}),(0,b.jsx)("p",{className:"text-gray-600 text-sm mb-3",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),a.userName]}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(a=>{if(!a)return"";try{return new Date(a).toLocaleDateString((()=>{switch(m){case"ru":return"ru-RU";case"en":default:return"en-GB";case"uz":return"uz-UZ"}})(),{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(b){return a}})(a.createdAt)]})]})]}),a.userId===n?.uid&&(0,b.jsx)("button",{onClick:()=>G(a.id),className:"text-red-600 hover:text-red-800 p-2",title:l("tickets.delete"),children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})},a.id)})})]})})]})]})}a.s(["default",()=>k])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ef077da8._.js.map