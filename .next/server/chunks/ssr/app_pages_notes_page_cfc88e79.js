module.exports=[31596,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);a.i(30485);var e=a.i(31052),f=a.i(76650);a.i(69387);var g=a.i(60574);a.i(60121);var h=a.i(5420),i=a.i(84496),j=a.i(80858),k=a.i(10682);let l=async(a,b,c,d)=>{try{let e=Date.now(),g=a.name.replace(/[^a-zA-Z0-9.-]/g,"_"),i=`projects/${b}/notes/${c}/files/${e}_${g}`,j=(0,h.ref)(f.storage,i),k=await (0,h.uploadBytes)(j,a);return{url:await (0,h.getDownloadURL)(k.ref),path:i,name:a.name,size:a.size,type:a.type,uploadedAt:new Date().toISOString(),uploadedBy:d}}catch(a){throw console.error("Error uploading file:",a),a}},m=({isOpen:a,onClose:d,onSubmit:e,project:f,user:g})=>{let{t:h}=(0,k.useStrings)(),[i,j]=(0,c.useState)({title:"",content:"",category:""}),[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)(!1);(0,c.useEffect)(()=>{a||(j({title:"",content:"",category:""}),n([]))},[a]),(0,c.useEffect)(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[a]);let q=async a=>{if(!a||0===a.length)return;p(!0);let b=[];try{for(let c of Array.from(a)){if(c.size>0xa00000){alert(h("notes.fileTooLarge").replace("{fileName}",c.name));continue}let a=Date.now().toString(),d=await l(c,f?.id||"temp",a,g?.uid||"anonymous");b.push(d)}n(a=>[...a,...b])}catch(a){console.error("File upload error:",a),alert(h("notes.fileUploadError"))}finally{p(!1)}},r=async a=>{(a.preventDefault(),console.log("Form submission started with data:",i),i.title.trim())?i.content.trim()?(console.log("Calling onSubmit with:",{...i,attachments:m}),e({...i,attachments:m})):alert(h("notes.pleaseEnterContent")):alert(h("notes.pleaseEnterTitle"))},s=(a,b)=>{j(c=>({...c,[a]:b}))};return a?(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-auto",onClick:a=>{a.target===a.currentTarget&&d()},children:(0,b.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-full overflow-auto my-auto mx-auto shadow-xl",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:h("notes.createNewNote")}),(0,b.jsx)("button",{onClick:d,className:"text-gray-500 hover:text-gray-700 transition-colors",children:(0,b.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,b.jsxs)("form",{onSubmit:r,className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[h("notes.noteTitle")," ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",required:!0,value:i.title,onChange:a=>s("title",a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:h("notes.enterNoteTitle"),maxLength:100}),(0,b.jsxs)("div",{className:"text-right text-xs text-gray-500 mt-1",children:[i.title.length,"/100"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:h("notes.categoryOptional")}),(0,b.jsxs)("select",{value:i.category,onChange:a=>s("category",a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,b.jsx)("option",{value:"",children:h("notes.selectCategory")}),[{key:"personal",label:h("notes.categories.personal")},{key:"work",label:h("notes.categories.work")},{key:"ideas",label:h("notes.categories.ideas")},{key:"tasks",label:h("notes.categories.tasks")},{key:"meetings",label:h("notes.categories.meetings")},{key:"research",label:h("notes.categories.research")},{key:"other",label:h("notes.categories.other")}].map(a=>(0,b.jsx)("option",{value:a.key,children:a.label},a.key))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[h("notes.noteContent")," ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("textarea",{required:!0,value:i.content,onChange:a=>s("content",a.target.value),rows:12,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical",placeholder:h("notes.writeNoteContent"),maxLength:5e3}),(0,b.jsxs)("div",{className:"text-right text-xs text-gray-500 mt-1",children:[i.content.length,"/5000"]})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[h("files.attachments")," ðŸ“Ž"]}),(0,b.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-blue-400 transition-colors",children:[(0,b.jsx)("input",{type:"file",multiple:!0,id:"file-upload",className:"hidden",onChange:a=>q(a.target.files),accept:"image/*,application/pdf,.doc,.docx,.txt,.csv,.kml,.gpx"}),(0,b.jsx)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("svg",{className:"w-8 h-8 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:o?h("notes.uploadingFiles"):h("notes.fileDropZone")}),(0,b.jsx)("p",{className:"text-xs text-gray-400",children:h("notes.fileDropHint")})]})})]}),m.length>0&&(0,b.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,b.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:[h("notes.attachedFiles")," (",m.length,"):"]}),m.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded hover:bg-gray-100 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("span",{className:"text-sm",children:a.type?.startsWith("image/")?"ðŸ–¼ï¸":a.type?.includes("pdf")?"ðŸ“„":a.name?.endsWith(".kml")||a.name?.endsWith(".gpx")?"ðŸ—ºï¸":"ðŸ“Ž"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-700",children:a.name}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:[(a.size/1024/1024).toFixed(2)," ",h("notes.mb")]})]})]}),(0,b.jsx)("button",{type:"button",onClick:()=>{n(a=>a.filter((a,b)=>b!==c))},className:"text-red-500 hover:text-red-700 text-sm p-2",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},c))]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[(0,b.jsx)("button",{type:"button",onClick:d,className:"px-6 py-3 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors",children:h("cancel")}),(0,b.jsx)("button",{type:"submit",disabled:!i.title.trim()||!i.content.trim()||o,className:"px-6 py-3 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?h("notes.uploadingFiles"):h("notes.createNote")})]})]})]})}):null},n=({isOpen:a,onClose:d,onSubmit:e,note:f})=>{let{t:g,language:h}=(0,k.useStrings)(),[i,j]=(0,c.useState)({title:"",content:"",category:""}),[l,m]=(0,c.useState)(f?.attachments||[]),[n,o]=(0,c.useState)(!1);(0,c.useEffect)(()=>{f&&(j({title:f.title||"",content:f.content||"",category:f.category||""}),m(f.attachments||[]))},[f]),(0,c.useEffect)(()=>{a||(j({title:"",content:"",category:""}),m([]))},[a]),(0,c.useEffect)(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[a]);let p=(a,b)=>{j(c=>({...c,[a]:b}))},q=a=>a?new Date(a).toLocaleDateString((()=>{switch(h){case"ru":return"ru-RU";case"en":default:return"en-GB";case"uz":return"uz-UZ"}})(),{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"";return a&&f?(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",onClick:a=>{a.target===a.currentTarget&&d()},children:(0,b.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-full overflow-auto my-auto mx-auto shadow-xl",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:g("notes.editNote")}),(0,b.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:[(0,b.jsxs)("span",{children:[g("notes.created"),": ",q(f.createdAt)]}),f.updatedAt!==f.createdAt&&(0,b.jsxs)("span",{className:"ml-4",children:[g("notes.lastUpdated"),": ",q(f.updatedAt)]})]})]}),(0,b.jsx)("button",{onClick:d,className:"text-gray-500 hover:text-gray-700 transition-colors",children:(0,b.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,b.jsxs)("form",{onSubmit:a=>{(a.preventDefault(),i.title.trim())?i.content.trim()?f?.id?e(f.id,{...i,attachments:l}):alert(g("error")):alert(g("notes.pleaseEnterContent")):alert(g("notes.pleaseEnterTitle"))},className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[g("notes.noteTitle")," ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",required:!0,value:i.title,onChange:a=>p("title",a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:g("notes.enterNoteTitle"),maxLength:100}),(0,b.jsxs)("div",{className:"text-right text-xs text-gray-500 mt-1",children:[i.title.length,"/100"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:g("notes.categoryOptional")}),(0,b.jsxs)("select",{value:i.category,onChange:a=>p("category",a.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,b.jsx)("option",{value:"",children:g("notes.selectCategory")}),[{key:"personal",label:g("notes.categories.personal")},{key:"work",label:g("notes.categories.work")},{key:"ideas",label:g("notes.categories.ideas")},{key:"tasks",label:g("notes.categories.tasks")},{key:"meetings",label:g("notes.categories.meetings")},{key:"research",label:g("notes.categories.research")},{key:"other",label:g("notes.categories.other")}].map(a=>(0,b.jsx)("option",{value:a.key,children:a.label},a.key))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[g("notes.noteContent")," ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("textarea",{required:!0,value:i.content,onChange:a=>p("content",a.target.value),rows:12,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical",placeholder:g("notes.writeNoteContent"),maxLength:5e3}),(0,b.jsxs)("div",{className:"text-right text-xs text-gray-500 mt-1",children:[i.content.length,"/5000"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:g("files.attachments")}),(0,b.jsx)("div",{className:"flex flex-col gap-2",children:0===l.length?(0,b.jsx)("span",{className:"text-gray-500 text-sm",children:g("library.noFiles")}):l.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8l-6-6zm4 18H6V4h7v5h5v11z"})}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-900",children:a.name})]}),(0,b.jsx)("button",{onClick:()=>{var b;return b=a.name,void m(a=>a.filter(a=>a.name!==b))},className:"text-red-600 hover:text-red-800 transition-colors",type:"button",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},c))}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,b.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"file",multiple:!0,onChange:a=>{let b=Array.from(a.target.files);m(a=>[...a,...b])},className:"hidden"}),(0,b.jsx)("span",{className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:g("files.uploadFile")})]}),n&&(0,b.jsx)("span",{className:"text-sm text-gray-500",children:g("notes.uploadingFiles")})]})]}),f.isFavorite&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-yellow-600 bg-yellow-50 px-3 py-2 rounded-lg",children:[(0,b.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),(0,b.jsx)("span",{className:"text-sm font-medium",children:g("notes.markedAsFavorite")})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[(0,b.jsx)("button",{type:"button",onClick:d,className:"px-6 py-3 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors",children:g("cancel")}),(0,b.jsx)("button",{type:"submit",disabled:!i.title.trim()||!i.content.trim(),className:"px-6 py-3 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g("notes.updateNote")})]})]})]})}):null},o=({isOpen:a,onClose:d,onSubmit:g})=>{let{t:i}=(0,k.useStrings)(),[j,l]=(0,c.useState)({title:"",description:"",type:"article",url:"",tags:"",file:null}),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(0),q=async(a,b)=>{try{let c=new Date().getTime(),d=`${c}_${a.name}`,e=(0,h.ref)(f.storage,`documents/${b}/${d}`);p(25);let g=await (0,h.uploadBytes)(e,a);p(75);let i=await (0,h.getDownloadURL)(g.ref);return p(90),{name:a.name,type:a.type,size:a.size,url:i,storagePath:g.ref.fullPath,lastModified:a.lastModified}}catch(a){throw console.error("Error uploading file to storage:",a),a}},r=async a=>{if(a.preventDefault(),j.title.trim()){n(!0),p(0);try{let a=null;if(j.file){let b=(0,e.getAuth)(f.app),c=b.currentUser?.uid;if(!c)throw Error(i("auth.loginError"));a=await q(j.file,c)}let b={title:j.title,description:j.description,type:j.type,url:j.url,tags:j.tags.split(",").map(a=>a.trim()).filter(a=>a),file:a};p(100),await g(b),l({title:"",description:"",type:"article",url:"",tags:"",file:null})}catch(a){console.error("Error submitting document:",a),alert(i("notes.errorAddingDocument")+": "+a.message)}finally{n(!1),p(0)}}};return a?(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:i("notes.addDocument")}),(0,b.jsxs)("form",{onSubmit:r,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("notes.titleRequired")}),(0,b.jsx)("input",{type:"text",required:!0,value:j.title,onChange:a=>l(b=>({...b,title:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:i("notes.documentTitlePlaceholder")})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("notes.description")}),(0,b.jsx)("textarea",{value:j.description,onChange:a=>l(b=>({...b,description:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:i("notes.descriptionPlaceholder")})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("notes.type")}),(0,b.jsxs)("select",{value:j.type,onChange:a=>l(b=>({...b,type:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"article",children:i("notes.article")}),(0,b.jsx)("option",{value:"document",children:i("notes.document")}),(0,b.jsx)("option",{value:"book",children:i("notes.book")}),(0,b.jsx)("option",{value:"research",children:i("notes.researchType")}),(0,b.jsx)("option",{value:"video",children:i("notes.video")}),(0,b.jsx)("option",{value:"pdf",children:i("notes.pdf")}),(0,b.jsx)("option",{value:"image",children:i("notes.image")}),(0,b.jsx)("option",{value:"other",children:i("notes.otherType")})]})]}),(0,b.jsx)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:i("notes.chooseMethod")}),(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsxs)("label",{className:"cursor-pointer inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),i("notes.uploadFile"),(0,b.jsx)("input",{type:"file",onChange:a=>{let b=a.target.files[0];if(b){if(b.size>0xa00000)return void alert(i("notes.fileTooLarge"));j.title?l(a=>({...a,file:b})):l(a=>({...a,title:b.name.replace(/\.[^/.]+$/,""),file:b}))}},className:"hidden",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.mp4,.mp3,.zip,.rar",disabled:m})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:i("notes.maxSize")})]}),j.file&&(0,b.jsx)("div",{className:"bg-green-50 border border-green-200 rounded p-3 mb-3",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("svg",{className:"w-5 h-5 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-green-800",children:j.file.name}),(0,b.jsxs)("p",{className:"text-xs text-green-600",children:[(j.file.size/1024/1024).toFixed(2)," MB"]})]})]}),(0,b.jsx)("button",{type:"button",onClick:()=>{l(a=>({...a,file:null}))},disabled:m,className:"text-red-500 hover:text-red-700 disabled:opacity-50",children:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,b.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:i("notes.orText")}),(0,b.jsx)("input",{type:"url",value:j.url,onChange:a=>l(b=>({...b,url:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:i("notes.addLink"),disabled:!!j.file||m})]})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("notes.tags")}),(0,b.jsx)("input",{type:"text",value:j.tags,onChange:a=>l(b=>({...b,tags:a.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:i("notes.tagsPlaceholder"),disabled:m})]}),m&&(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[(0,b.jsx)("span",{children:o<25?i("notes.preparingFile"):o<75?i("notes.uploadingToStorage"):o<90?i("notes.gettingLink"):o<100?i("notes.savingToDatabase"):i("notes.completed")}),(0,b.jsxs)("span",{children:[o,"%"]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${o}%`}})})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{type:"submit",disabled:!j.title.trim()||m,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m?i("notes.uploading"):i("notes.add")}),(0,b.jsx)("button",{type:"button",onClick:d,disabled:m,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 disabled:opacity-50 transition-colors",children:i("cancel")})]})]})]})}):null},p=({document:a,onDelete:c})=>{let d,{t:e}=(0,k.useStrings)(),f=()=>{a.file&&a.file.url&&window.open(a.file.url,"_blank")};return(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-4 hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,b.jsx)("div",{className:"text-2xl",children:(a=>{switch(a){case"article":default:return"ðŸ“„";case"book":return"ðŸ“š";case"video":return"ðŸŽ¥";case"research":return"ðŸ”¬";case"document":return"ðŸ“‹";case"pdf":return"ðŸ“•";case"image":return"ðŸ–¼ï¸"}})(a.type)}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-medium text-gray-900 mb-1 line-clamp-2",children:a.url?(0,b.jsx)("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-600 transition-colors",children:a.title}):(0,b.jsx)("span",{className:"cursor-pointer hover:text-blue-600",onClick:f,children:a.title})}),a.description&&(0,b.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:a.description})]})]}),(0,b.jsx)("button",{onClick:()=>c(a.id,a.file?.storagePath),className:"text-gray-400 hover:text-red-500 p-1",children:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(a=>{switch(a){case"article":return"bg-blue-100 text-blue-800";case"book":return"bg-green-100 text-green-800";case"video":return"bg-purple-100 text-purple-800";case"research":return"bg-orange-100 text-orange-800";case"document":default:return"bg-gray-100 text-gray-800";case"pdf":return"bg-red-100 text-red-800";case"image":return"bg-yellow-100 text-yellow-800"}})(a.type)}`,children:(d=a.type,e(`notes.${d}`)||d)}),(0,b.jsxs)("div",{className:"flex gap-2",children:[a.url&&(0,b.jsxs)("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-xs",children:["ðŸ”— ",e("notes.openLink")]}),a.file&&a.file.url&&(0,b.jsxs)("button",{onClick:f,className:"text-green-600 hover:text-green-800 text-xs",children:["ðŸ“‚ ",e("notes.openFile")]})]})]}),a.tags&&a.tags.length>0&&(0,b.jsxs)("div",{className:"flex gap-1",children:[a.tags.slice(0,2).map((a,c)=>(0,b.jsxs)("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs",children:["#",a]},c)),a.tags.length>2&&(0,b.jsxs)("span",{className:"text-gray-400 text-xs",children:["+",a.tags.length-2]})]})]}),a.file&&(0,b.jsxs)("div",{className:"text-xs text-gray-500 mt-2 flex justify-between",children:[(0,b.jsxs)("span",{children:["ðŸ“Ž ",a.file.name]}),(0,b.jsx)("span",{children:(a=>{if(0===a)return"0 Bytes";let b=Math.floor(Math.log(a)/Math.log(1024));return parseFloat((a/Math.pow(1024,b)).toFixed(2))+" "+["Bytes","KB","MB","GB"][b]})(a.file.size)})]}),a.createdAt&&(0,b.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[e("notes.added"),": ",new Date(a.createdAt).toLocaleDateString()]})]})};function q(){let a=(0,e.getAuth)(f.app),l=(0,d.useRouter)(),{t:q}=(0,k.useStrings)(),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)(!0),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)("all"),[H,I]=(0,c.useState)(null),[J,K]=(0,c.useState)([]),[L,M]=(0,c.useState)(!1),[N,O]=(0,c.useState)("notes"),[P,Q]=(0,c.useState)(""),[R,S]=(0,c.useState)("all");(0,c.useEffect)(()=>{let b=(0,e.onAuthStateChanged)(a,a=>{a?(C(a),T(a.uid),U(a.uid)):l.push("/")});return()=>b()},[a,l]);let T=async a=>{try{u(!0);let b=(0,g.collection)(f.db,"notes"),c=(0,g.query)(b,(0,g.where)("userId","==",a)),d=(await (0,g.getDocs)(c)).docs.map(a=>({id:a.id,...a.data()}));d.sort((a,b)=>new Date(b.updatedAt)-new Date(a.updatedAt)),s(d)}catch(a){console.error("Error fetching notes:",a)}finally{u(!1)}},U=async a=>{try{let b=(0,g.collection)(f.db,"documents"),c=(0,g.query)(b,(0,g.where)("userId","==",a)),d=(await (0,g.getDocs)(c)).docs.map(a=>({id:a.id,...a.data()}));d.sort((a,b)=>new Date(b.createdAt)-new Date(a.createdAt)),K(d)}catch(a){console.error("Error fetching documents:",a)}},V=async a=>{try{let b={...a,userId:B.uid,createdAt:new Date().toISOString()};await (0,g.addDoc)((0,g.collection)(f.db,"documents"),b),await U(B.uid),M(!1)}catch(a){console.error("Error creating document:",a),alert(q("notes.errorAddingDocument"))}},W=async(a,b)=>{if(window.confirm(q("notes.deleteDocument")))try{if(b)try{let a=(0,h.ref)(f.storage,b);await (0,h.deleteObject)(a)}catch(a){console.error("Error deleting file from storage:",a)}await (0,g.deleteDoc)((0,g.doc)(f.db,"documents",a)),await U(B.uid)}catch(a){console.error("Error deleting document:",a),alert(q("notes.errorDeletingDocument"))}},X=async a=>{try{let b={...a,userId:B.uid,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isFavorite:!1};await (0,g.addDoc)((0,g.collection)(f.db,"notes"),b),await T(B.uid),w(!1)}catch(a){console.error("Error creating note:",a)}},Y=async(a,b)=>{try{let c=(0,g.doc)(f.db,"notes",a);await (0,g.updateDoc)(c,{...b,updatedAt:new Date().toISOString()}),T(B.uid),y(!1),A(null)}catch(a){console.error("Error updating note:",a)}},Z=async a=>{if(window.confirm(q("notes.confirmDeleteNote")))try{await (0,g.deleteDoc)((0,g.doc)(f.db,"notes",a)),T(B.uid)}catch(a){console.error("Error deleting note:",a)}},$=async(a,b)=>{try{let c=(0,g.doc)(f.db,"notes",a);await (0,g.updateDoc)(c,{isFavorite:!b,updatedAt:new Date().toISOString()}),T(B.uid)}catch(a){console.error("Error toggling favorite:",a)}},_=r.filter(a=>{let b=a.title.toLowerCase().includes(D.toLowerCase())||a.content.toLowerCase().includes(D.toLowerCase());if("favorites"===F)return b&&a.isFavorite;if("recent"===F){let c=new Date;return c.setDate(c.getDate()-7),b&&new Date(a.updatedAt)>c}return b}),aa=J.filter(a=>{let b=a.title.toLowerCase().includes(P.toLowerCase())||a.description&&a.description.toLowerCase().includes(P.toLowerCase())||a.tags&&a.tags.some(a=>a.toLowerCase().includes(P.toLowerCase()));return"all"===R?b:b&&a.type===R}),ab=a=>{let b=new Date(a),c=String(b.getDate()).padStart(2,"0"),d=String(b.getMonth()+1).padStart(2,"0"),e=b.getFullYear();return`${c}/${d}/${e}`};return t?(0,b.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[(0,b.jsx)(i.default,{}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,b.jsx)(j.default,{}),(0,b.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,b.jsx)("p",{className:"mt-4 text-gray-600",children:q("loading")})]})})]})]}):(0,b.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[(0,b.jsx)(i.default,{}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,b.jsx)(j.default,{}),(0,b.jsxs)("main",{className:"flex-1 overflow-y-auto p-6",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:q("nav.notes")}),(0,b.jsxs)("div",{className:"flex bg-gray-200 rounded-lg p-1",children:[(0,b.jsxs)("button",{onClick:()=>O("notes"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${"notes"===N?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["ðŸ“ ",q("notes.notesTab")," (",r.length,")"]}),(0,b.jsxs)("button",{onClick:()=>O("library"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${"library"===N?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["ðŸ“š ",q("notes.libraryTab")," (",J.length,")"]})]})]}),(0,b.jsxs)("button",{onClick:()=>"notes"===N?w(!0):M(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"notes"===N?q("notes.newNote"):q("notes.addToLibrary")]})]}),"notes"===N&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)("input",{type:"text",placeholder:q("notes.searchNotes"),value:D,onChange:a=>E(a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,b.jsxs)("select",{value:F,onChange:a=>G(a.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"all",children:q("notes.allNotes")}),(0,b.jsx)("option",{value:"recent",children:q("notes.recent")}),(0,b.jsx)("option",{value:"favorites",children:q("notes.favorites")})]})]}),(0,b.jsxs)("div",{className:"flex gap-4 text-sm text-gray-600 mb-4",children:[(0,b.jsxs)("span",{children:[r.length," ",q("notes.totalNotes")]}),(0,b.jsxs)("span",{children:[r.filter(a=>a.isFavorite).length," ",q("notes.favoritesCount")]}),(0,b.jsxs)("span",{children:[_.length," ",q("notes.showing")]})]})]}),"library"===N&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)("input",{type:"text",placeholder:q("notes.searchLibrary"),value:P,onChange:a=>Q(a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,b.jsxs)("select",{value:R,onChange:a=>S(a.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"all",children:q("notes.allTypes")}),(0,b.jsx)("option",{value:"article",children:q("notes.articles")}),(0,b.jsx)("option",{value:"book",children:q("notes.books")}),(0,b.jsx)("option",{value:"video",children:q("notes.videos")}),(0,b.jsx)("option",{value:"research",children:q("notes.research")}),(0,b.jsx)("option",{value:"document",children:q("notes.documents")}),(0,b.jsx)("option",{value:"pdf",children:q("notes.pdfs")}),(0,b.jsx)("option",{value:"image",children:q("notes.images")}),(0,b.jsx)("option",{value:"other",children:q("notes.other")})]})]}),(0,b.jsxs)("div",{className:"flex gap-4 text-sm text-gray-600 mb-4",children:[(0,b.jsxs)("span",{children:[J.length," ",q("notes.totalDocuments")]}),(0,b.jsxs)("span",{children:[aa.length," ",q("notes.shown")]})]})]})]}),"notes"===N?0===_.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:D||"all"!==F?q("notes.noNotesFound"):q("notes.noNotesYet")}),(0,b.jsx)("p",{className:"text-gray-600 mb-4",children:D||"all"!==F?q("notes.tryChangingFilter"):q("notes.createFirstNote")}),!D&&"all"===F&&(0,b.jsx)("button",{onClick:()=>w(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:q("notes.createYourFirstNote")})]}):(0,b.jsxs)("div",{className:"flex gap-4 h-[calc(100vh-280px)]",children:[(0,b.jsx)("div",{className:"w-80 bg-white rounded-lg shadow-md overflow-hidden flex flex-col",children:(0,b.jsx)("div",{className:"flex-1 overflow-y-auto",children:_.map(a=>(0,b.jsxs)("div",{onClick:()=>{I(a)},className:`p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors ${H?.id===a.id?"bg-blue-50 border-l-4 border-l-blue-600":""}`,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 line-clamp-1 flex-1",children:a.title}),a.isFavorite&&(0,b.jsx)("svg",{className:"w-4 h-4 text-yellow-500 flex shrink-0 ml-2",fill:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})]}),(0,b.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:((a,b=150)=>a?a.length<=b?a:a.substring(0,b)+"...":"")(a.content,80)}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-xs text-gray-500",children:ab(a.updatedAt)}),a.category&&(0,b.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full text-xs",children:a.category})]})]},a.id))})}),(0,b.jsx)("div",{className:"flex-1 bg-white rounded-lg shadow-md overflow-hidden",children:H?(0,b.jsxs)("div",{className:"h-full flex flex-col",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900 flex-1",children:H.title}),(0,b.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,b.jsx)("button",{onClick:()=>$(H.id,H.isFavorite),className:`p-2 rounded-lg transition-colors ${H.isFavorite?"text-yellow-500 bg-yellow-50 hover:bg-yellow-100":"text-gray-400 hover:text-yellow-500 hover:bg-gray-100"}`,title:H.isFavorite?q("notes.removeFromFavorites"):q("notes.addToFavorites"),children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:H.isFavorite?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),(0,b.jsx)("button",{onClick:()=>{A(H),y(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:q("edit"),children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,b.jsx)("button",{onClick:()=>{Z(H.id),I(null)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:q("delete"),children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,b.jsxs)("span",{children:[q("notes.created"),": ",ab(H.createdAt)]}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsxs)("span",{children:[q("notes.lastUpdated"),": ",ab(H.updatedAt)]}),H.category&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs",children:H.category})]})]})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,b.jsx)("div",{className:"prose max-w-none",children:(0,b.jsx)("pre",{className:"whitespace-pre-wrap font-sans text-gray-700 leading-relaxed",children:H.content})})})]}):(0,b.jsx)("div",{className:"h-full flex items-center justify-center text-gray-400",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,b.jsx)("p",{className:"text-lg",children:q("notes.selectNote")})]})})})]}):0===aa.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ“š"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:P||"all"!==R?q("notes.noDocuments"):q("notes.libraryEmpty")}),(0,b.jsx)("p",{className:"text-gray-600 mb-4",children:P||"all"!==R?q("notes.tryChangingLibraryFilter"):q("notes.addFirstDocument")}),!P&&"all"===R&&(0,b.jsx)("button",{onClick:()=>M(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:q("notes.createFirstDocumentBtn")})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:aa.map(a=>(0,b.jsx)(p,{document:a,onDelete:W},a.id))})]})]}),(0,b.jsx)(m,{isOpen:v,onClose:()=>w(!1),onSubmit:X}),(0,b.jsx)(n,{isOpen:x,onClose:()=>{y(!1),A(null)},onSubmit:Y,note:z}),(0,b.jsx)(o,{isOpen:L,onClose:()=>M(!1),onSubmit:V})]})}a.s(["default",()=>q],31596)}];

//# sourceMappingURL=app_pages_notes_page_cfc88e79.js.map