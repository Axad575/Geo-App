{"version":3,"sources":["../../../../app/pages/notes/page.js","../../../../app/components/CreateNoteModal.js","../../../../app/utils/fileStorage.js","../../../../app/components/EditNoteModal.js"],"sourcesContent":["\"use client\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\r\nimport { app, db, storage } from \"@/app/api/firebase\";\r\nimport { \r\n    collection, \r\n    getDocs, \r\n    addDoc, \r\n    updateDoc, \r\n    deleteDoc, \r\n    doc, \r\n    query, \r\n    orderBy, \r\n    where \r\n} from \"firebase/firestore\";\r\nimport { \r\n    ref, \r\n    uploadBytes, \r\n    getDownloadURL, \r\n    deleteObject \r\n} from \"firebase/storage\";\r\nimport Sidebar from \"@/app/components/sidebar\";\r\nimport Navbar from \"@/app/components/navbar\";\r\nimport CreateNoteModal from \"@/app/components/CreateNoteModal\";\r\nimport EditNoteModal from \"@/app/components/EditNoteModal\";\r\nimport { useStrings } from \"@/app/hooks/useStrings\";\r\n\r\n// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É\r\nconst AddDocumentModal = ({ isOpen, onClose, onSubmit }) => {\r\n    const { t } = useStrings();\r\n    \r\n    const [documentData, setDocumentData] = useState({\r\n        title: '',\r\n        description: '',\r\n        type: 'article',\r\n        url: '',\r\n        tags: '',\r\n        file: null\r\n    });\r\n    const [uploading, setUploading] = useState(false);\r\n    const [uploadProgress, setUploadProgress] = useState(0);\r\n\r\n    const handleFileChange = (e) => {\r\n        const file = e.target.files[0];\r\n        if (file) {\r\n            if (file.size > 10 * 1024 * 1024) {\r\n                alert(t('notes.fileTooLarge'));\r\n                return;\r\n            }\r\n            \r\n            if (!documentData.title) {\r\n                setDocumentData(prev => ({ \r\n                    ...prev, \r\n                    title: file.name.replace(/\\.[^/.]+$/, \"\"),\r\n                    file: file\r\n                }));\r\n            } else {\r\n                setDocumentData(prev => ({ ...prev, file: file }));\r\n            }\r\n        }\r\n    };\r\n\r\n    const uploadFileToStorage = async (file, userId) => {\r\n        try {\r\n            const timestamp = new Date().getTime();\r\n            const fileName = `${timestamp}_${file.name}`;\r\n            const storageRef = ref(storage, `documents/${userId}/${fileName}`);\r\n            \r\n            setUploadProgress(25);\r\n            \r\n            const snapshot = await uploadBytes(storageRef, file);\r\n            setUploadProgress(75);\r\n            \r\n            const downloadURL = await getDownloadURL(snapshot.ref);\r\n            setUploadProgress(90);\r\n            \r\n            return {\r\n                name: file.name,\r\n                type: file.type,\r\n                size: file.size,\r\n                url: downloadURL,\r\n                storagePath: snapshot.ref.fullPath,\r\n                lastModified: file.lastModified\r\n            };\r\n        } catch (error) {\r\n            console.error('Error uploading file to storage:', error);\r\n            throw error;\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (!documentData.title.trim()) return;\r\n\r\n        setUploading(true);\r\n        setUploadProgress(0);\r\n\r\n        try {\r\n            let fileData = null;\r\n            \r\n            if (documentData.file) {\r\n                const auth = getAuth(app);\r\n                const userId = auth.currentUser?.uid;\r\n                \r\n                if (!userId) {\r\n                    throw new Error(t('auth.loginError'));\r\n                }\r\n                \r\n                fileData = await uploadFileToStorage(documentData.file, userId);\r\n            }\r\n\r\n            const submissionData = {\r\n                title: documentData.title,\r\n                description: documentData.description,\r\n                type: documentData.type,\r\n                url: documentData.url,\r\n                tags: documentData.tags.split(',').map(tag => tag.trim()).filter(tag => tag),\r\n                file: fileData\r\n            };\r\n\r\n            setUploadProgress(100);\r\n            await onSubmit(submissionData);\r\n            \r\n            setDocumentData({\r\n                title: '',\r\n                description: '',\r\n                type: 'article',\r\n                url: '',\r\n                tags: '',\r\n                file: null\r\n            });\r\n        } catch (error) {\r\n            console.error('Error submitting document:', error);\r\n            alert(t('notes.errorAddingDocument') + ': ' + error.message);\r\n        } finally {\r\n            setUploading(false);\r\n            setUploadProgress(0);\r\n        }\r\n    };\r\n\r\n    const removeFile = () => {\r\n        setDocumentData(prev => ({ ...prev, file: null }));\r\n    };\r\n\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n            <div className=\"bg-white rounded-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto\">\r\n                <h3 className=\"text-lg font-semibold mb-4\">{t('notes.addDocument')}</h3>\r\n                \r\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                            {t('notes.titleRequired')}\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            required\r\n                            value={documentData.title}\r\n                            onChange={(e) => setDocumentData(prev => ({ ...prev, title: e.target.value }))}\r\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            placeholder={t('notes.documentTitlePlaceholder')}\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                            {t('notes.description')}\r\n                        </label>\r\n                        <textarea\r\n                            value={documentData.description}\r\n                            onChange={(e) => setDocumentData(prev => ({ ...prev, description: e.target.value }))}\r\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            rows=\"3\"\r\n                            placeholder={t('notes.descriptionPlaceholder')}\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                            {t('notes.type')}\r\n                        </label>\r\n                        <select\r\n                            value={documentData.type}\r\n                            onChange={(e) => setDocumentData(prev => ({ ...prev, type: e.target.value }))}\r\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                        >\r\n                            <option value=\"article\">{t('notes.article')}</option>\r\n                            <option value=\"document\">{t('notes.document')}</option>\r\n                            <option value=\"book\">{t('notes.book')}</option>\r\n                            <option value=\"research\">{t('notes.researchType')}</option>\r\n                            <option value=\"video\">{t('notes.video')}</option>\r\n                            <option value=\"pdf\">{t('notes.pdf')}</option>\r\n                            <option value=\"image\">{t('notes.image')}</option>\r\n                            <option value=\"other\">{t('notes.otherType')}</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-4\">\r\n                        <div className=\"text-center\">\r\n                            <h4 className=\"text-sm font-medium text-gray-700 mb-2\">\r\n                                {t('notes.chooseMethod')}\r\n                            </h4>\r\n                            \r\n                            <div className=\"mb-3\">\r\n                                <label className=\"cursor-pointer inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\">\r\n                                    <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\r\n                                    </svg>\r\n                                    {t('notes.uploadFile')}\r\n                                    <input\r\n                                        type=\"file\"\r\n                                        onChange={handleFileChange}\r\n                                        className=\"hidden\"\r\n                                        accept=\".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.mp4,.mp3,.zip,.rar\"\r\n                                        disabled={uploading}\r\n                                    />\r\n                                </label>\r\n                                <p className=\"text-xs text-gray-500 mt-1\">\r\n                                    {t('notes.maxSize')}\r\n                                </p>\r\n                            </div>\r\n\r\n                            {documentData.file && (\r\n                                <div className=\"bg-green-50 border border-green-200 rounded p-3 mb-3\">\r\n                                    <div className=\"flex items-center justify-between\">\r\n                                        <div className=\"flex items-center\">\r\n                                            <svg className=\"w-5 h-5 text-green-600 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n                                            </svg>\r\n                                            <div>\r\n                                                <p className=\"text-sm font-medium text-green-800\">{documentData.file.name}</p>\r\n                                                <p className=\"text-xs text-green-600\">\r\n                                                    {(documentData.file.size / 1024 / 1024).toFixed(2)} MB\r\n                                                </p>\r\n                                            </div>\r\n                                        </div>\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            onClick={removeFile}\r\n                                            disabled={uploading}\r\n                                            className=\"text-red-500 hover:text-red-700 disabled:opacity-50\"\r\n                                        >\r\n                                            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\r\n                                            </svg>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            <div className=\"text-sm text-gray-500 mb-2\">{t('notes.orText')}</div>\r\n                            \r\n                            <input\r\n                                type=\"url\"\r\n                                value={documentData.url}\r\n                                onChange={(e) => setDocumentData(prev => ({ ...prev, url: e.target.value }))}\r\n                                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                                placeholder={t('notes.addLink')}\r\n                                disabled={!!documentData.file || uploading}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                            {t('notes.tags')}\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={documentData.tags}\r\n                            onChange={(e) => setDocumentData(prev => ({ ...prev, tags: e.target.value }))}\r\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            placeholder={t('notes.tagsPlaceholder')}\r\n                            disabled={uploading}\r\n                        />\r\n                    </div>\r\n\r\n                    {uploading && (\r\n                        <div className=\"w-full\">\r\n                            <div className=\"flex justify-between text-sm text-gray-600 mb-1\">\r\n                                <span>\r\n                                    {uploadProgress < 25 ? t('notes.preparingFile') :\r\n                                     uploadProgress < 75 ? t('notes.uploadingToStorage') :\r\n                                     uploadProgress < 90 ? t('notes.gettingLink') :\r\n                                     uploadProgress < 100 ? t('notes.savingToDatabase') : t('notes.completed')}\r\n                                </span>\r\n                                <span>{uploadProgress}%</span>\r\n                            </div>\r\n                            <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                                <div \r\n                                    className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\r\n                                    style={{ width: `${uploadProgress}%` }}\r\n                                ></div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"flex gap-3 pt-4\">\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={!documentData.title.trim() || uploading}\r\n                            className=\"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n                        >\r\n                            {uploading ? t('notes.uploading') : t('notes.add')}\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={onClose}\r\n                            disabled={uploading}\r\n                            className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 disabled:opacity-50 transition-colors\"\r\n                        >\r\n                            {t('cancel')}\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç DocumentCard\r\nconst DocumentCard = ({ document, onDelete }) => {\r\n    const { t } = useStrings();\r\n    \r\n    const getTypeIcon = (type) => {\r\n        switch (type) {\r\n            case 'article': return 'üìÑ';\r\n            case 'book': return 'üìö';\r\n            case 'video': return 'üé•';\r\n            case 'research': return 'üî¨';\r\n            case 'document': return 'üìã';\r\n            case 'pdf': return 'üìï';\r\n            case 'image': return 'üñºÔ∏è';\r\n            default: return 'üìÑ';\r\n        }\r\n    };\r\n\r\n    const getTypeColor = (type) => {\r\n        switch (type) {\r\n            case 'article': return 'bg-blue-100 text-blue-800';\r\n            case 'book': return 'bg-green-100 text-green-800';\r\n            case 'video': return 'bg-purple-100 text-purple-800';\r\n            case 'research': return 'bg-orange-100 text-orange-800';\r\n            case 'document': return 'bg-gray-100 text-gray-800';\r\n            case 'pdf': return 'bg-red-100 text-red-800';\r\n            case 'image': return 'bg-yellow-100 text-yellow-800';\r\n            default: return 'bg-gray-100 text-gray-800';\r\n        }\r\n    };\r\n\r\n    const getTypeText = (type) => {\r\n        return t(`notes.${type}`) || type;\r\n    };\r\n\r\n    const formatFileSize = (bytes) => {\r\n        if (bytes === 0) return '0 Bytes';\r\n        const k = 1024;\r\n        const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n        return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n    };\r\n\r\n    const handleFileOpen = () => {\r\n        if (document.file && document.file.url) {\r\n            window.open(document.file.url, '_blank');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-white rounded-lg shadow-sm border p-4 hover:shadow-md transition-shadow\">\r\n            <div className=\"flex items-start justify-between mb-3\">\r\n                <div className=\"flex items-start gap-3 flex-1\">\r\n                    <div className=\"text-2xl\">{getTypeIcon(document.type)}</div>\r\n                    <div className=\"flex-1\">\r\n                        <h3 className=\"font-medium text-gray-900 mb-1 line-clamp-2\">\r\n                            {document.url ? (\r\n                                <a \r\n                                    href={document.url} \r\n                                    target=\"_blank\" \r\n                                    rel=\"noopener noreferrer\"\r\n                                    className=\"hover:text-blue-600 transition-colors\"\r\n                                >\r\n                                    {document.title}\r\n                                </a>\r\n                            ) : (\r\n                                <span className=\"cursor-pointer hover:text-blue-600\" onClick={handleFileOpen}>\r\n                                    {document.title}\r\n                                </span>\r\n                            )}\r\n                        </h3>\r\n                        {document.description && (\r\n                            <p className=\"text-sm text-gray-600 line-clamp-2 mb-2\">\r\n                                {document.description}\r\n                            </p>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n                <button\r\n                    onClick={() => onDelete(document.id, document.file?.storagePath)}\r\n                    className=\"text-gray-400 hover:text-red-500 p-1\"\r\n                >\r\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n                    </svg>\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-2\">\r\n                    <span className={`px-2 py-1 rounded-full text-xs font-medium ${getTypeColor(document.type)}`}>\r\n                        {getTypeText(document.type)}\r\n                    </span>\r\n                    \r\n                    <div className=\"flex gap-2\">\r\n                        {document.url && (\r\n                            <a \r\n                                href={document.url} \r\n                                target=\"_blank\" \r\n                                rel=\"noopener noreferrer\"\r\n                                className=\"text-blue-600 hover:text-blue-800 text-xs\"\r\n                            >\r\n                                üîó {t('notes.openLink')}\r\n                            </a>\r\n                        )}\r\n                        {document.file && document.file.url && (\r\n                            <button\r\n                                onClick={handleFileOpen}\r\n                                className=\"text-green-600 hover:text-green-800 text-xs\"\r\n                            >\r\n                                üìÇ {t('notes.openFile')}\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n                \r\n                {document.tags && document.tags.length > 0 && (\r\n                    <div className=\"flex gap-1\">\r\n                        {document.tags.slice(0, 2).map((tag, index) => (\r\n                            <span key={index} className=\"bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs\">\r\n                                #{tag}\r\n                            </span>\r\n                        ))}\r\n                        {document.tags.length > 2 && (\r\n                            <span className=\"text-gray-400 text-xs\">+{document.tags.length - 2}</span>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </div>\r\n            \r\n            {document.file && (\r\n                <div className=\"text-xs text-gray-500 mt-2 flex justify-between\">\r\n                    <span>üìé {document.file.name}</span>\r\n                    <span>{formatFileSize(document.file.size)}</span>\r\n                </div>\r\n            )}\r\n            \r\n            {document.createdAt && (\r\n                <div className=\"text-xs text-gray-500 mt-1\">\r\n                    {t('notes.added')}: {new Date(document.createdAt).toLocaleDateString()}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default function Notes() {\r\n    const auth = getAuth(app);\r\n    const router = useRouter();\r\n    const { t } = useStrings();\r\n    \r\n    const [notes, setNotes] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\r\n    const [isEditModalOpen, setIsEditModalOpen] = useState(false);\r\n    const [editingNote, setEditingNote] = useState(null);\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n    const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const [filterBy, setFilterBy] = useState(\"all\");\r\n    const [selectedNote, setSelectedNote] = useState(null);\r\n\r\n    const [documents, setDocuments] = useState([]);\r\n    const [isAddDocumentModalOpen, setIsAddDocumentModalOpen] = useState(false);\r\n    const [activeTab, setActiveTab] = useState('notes');\r\n    const [librarySearchTerm, setLibrarySearchTerm] = useState(\"\");\r\n    const [libraryFilterBy, setLibraryFilterBy] = useState(\"all\");\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onAuthStateChanged(auth, (user) => {\r\n            if (user) {\r\n                setCurrentUser(user);\r\n                fetchNotes(user.uid);\r\n                fetchDocuments(user.uid);\r\n            } else {\r\n                router.push('/');\r\n            }\r\n        });\r\n\r\n        return () => unsubscribe();\r\n    }, [auth, router]);\r\n\r\n    const fetchNotes = async (userId) => {\r\n        try {\r\n            setLoading(true);\r\n            const notesRef = collection(db, 'notes');\r\n            const q = query(notesRef, where(\"userId\", \"==\", userId));\r\n            const notesSnapshot = await getDocs(q);\r\n            \r\n            const notesList = notesSnapshot.docs.map(doc => ({\r\n                id: doc.id,\r\n                ...doc.data()\r\n            }));\r\n            \r\n            notesList.sort((a, b) => new Date(b.updatedAt) - new Date(a.updatedAt));\r\n            setNotes(notesList);\r\n        } catch (error) {\r\n            console.error('Error fetching notes:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const fetchDocuments = async (userId) => {\r\n        try {\r\n            const documentsRef = collection(db, 'documents');\r\n            const q = query(documentsRef, where(\"userId\", \"==\", userId));\r\n            const documentsSnapshot = await getDocs(q);\r\n            \r\n            const documentsList = documentsSnapshot.docs.map(doc => ({\r\n                id: doc.id,\r\n                ...doc.data()\r\n            }));\r\n            \r\n            documentsList.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\r\n            setDocuments(documentsList);\r\n        } catch (error) {\r\n            console.error('Error fetching documents:', error);\r\n        }\r\n    };\r\n\r\n    const handleCreateDocument = async (documentData) => {\r\n        try {\r\n            const newDocument = {\r\n                ...documentData,\r\n                userId: currentUser.uid,\r\n                createdAt: new Date().toISOString(),\r\n            };\r\n\r\n            await addDoc(collection(db, 'documents'), newDocument);\r\n            await fetchDocuments(currentUser.uid);\r\n            setIsAddDocumentModalOpen(false);\r\n        } catch (error) {\r\n            console.error('Error creating document:', error);\r\n            alert(t('notes.errorAddingDocument'));\r\n        }\r\n    };\r\n\r\n    const handleDeleteDocument = async (documentId, storagePath) => {\r\n        if (window.confirm(t('notes.deleteDocument'))) {\r\n            try {\r\n                if (storagePath) {\r\n                    try {\r\n                        const fileRef = ref(storage, storagePath);\r\n                        await deleteObject(fileRef);\r\n                    } catch (error) {\r\n                        console.error('Error deleting file from storage:', error);\r\n                    }\r\n                }\r\n\r\n                await deleteDoc(doc(db, 'documents', documentId));\r\n                await fetchDocuments(currentUser.uid);\r\n            } catch (error) {\r\n                console.error('Error deleting document:', error);\r\n                alert(t('notes.errorDeletingDocument'));\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleCreateNote = async (noteData) => {\r\n        try {\r\n            const newNote = {\r\n                ...noteData,\r\n                userId: currentUser.uid,\r\n                createdAt: new Date().toISOString(),\r\n                updatedAt: new Date().toISOString(),\r\n                isFavorite: false\r\n            };\r\n\r\n            await addDoc(collection(db, 'notes'), newNote);\r\n            await fetchNotes(currentUser.uid);\r\n            setIsCreateModalOpen(false);\r\n        } catch (error) {\r\n            console.error('Error creating note:', error);\r\n        }\r\n    };\r\n\r\n    const handleUpdateNote = async (noteId, noteData) => {\r\n        try {\r\n            const noteRef = doc(db, 'notes', noteId);\r\n            await updateDoc(noteRef, {\r\n                ...noteData,\r\n                updatedAt: new Date().toISOString()\r\n            });\r\n            \r\n            fetchNotes(currentUser.uid);\r\n            setIsEditModalOpen(false);\r\n            setEditingNote(null);\r\n        } catch (error) {\r\n            console.error('Error updating note:', error);\r\n        }\r\n    };\r\n\r\n    const handleDeleteNote = async (noteId) => {\r\n        if (window.confirm(t('notes.confirmDeleteNote'))) {\r\n            try {\r\n                await deleteDoc(doc(db, 'notes', noteId));\r\n                fetchNotes(currentUser.uid);\r\n            } catch (error) {\r\n                console.error('Error deleting note:', error);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleToggleFavorite = async (noteId, currentFavoriteStatus) => {\r\n        try {\r\n            const noteRef = doc(db, 'notes', noteId);\r\n            await updateDoc(noteRef, {\r\n                isFavorite: !currentFavoriteStatus,\r\n                updatedAt: new Date().toISOString()\r\n            });\r\n            fetchNotes(currentUser.uid);\r\n        } catch (error) {\r\n            console.error('Error toggling favorite:', error);\r\n        }\r\n    };\r\n\r\n    const handleEditNote = (note) => {\r\n        setEditingNote(note);\r\n        setIsEditModalOpen(true);\r\n    };\r\n\r\n    const handleSelectNote = (note) => {\r\n        setSelectedNote(note);\r\n    };\r\n\r\n    const filteredNotes = notes.filter(note => {\r\n        const matchesSearch = note.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                            note.content.toLowerCase().includes(searchTerm.toLowerCase());\r\n        \r\n        if (filterBy === \"favorites\") {\r\n            return matchesSearch && note.isFavorite;\r\n        }\r\n        if (filterBy === \"recent\") {\r\n            const oneWeekAgo = new Date();\r\n            oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);\r\n            return matchesSearch && new Date(note.updatedAt) > oneWeekAgo;\r\n        }\r\n        return matchesSearch;\r\n    });\r\n\r\n    const filteredDocuments = documents.filter(document => {\r\n        const matchesSearch = document.title.toLowerCase().includes(librarySearchTerm.toLowerCase()) ||\r\n                            (document.description && document.description.toLowerCase().includes(librarySearchTerm.toLowerCase())) ||\r\n                            (document.tags && document.tags.some(tag => tag.toLowerCase().includes(librarySearchTerm.toLowerCase())));\r\n        \r\n        if (libraryFilterBy === \"all\") return matchesSearch;\r\n        return matchesSearch && document.type === libraryFilterBy;\r\n    });\r\n\r\n    const formatDate = (dateString) => {\r\n        const date = new Date(dateString);\r\n         const day = String(date.getDate()).padStart(2, '0');\r\n        const month = String(date.getMonth() + 1).padStart(2, '0');\r\n        const year = date.getFullYear();\r\n        \r\n        return `${day}/${month}/${year}`;\r\n    };\r\n\r\n    const truncateContent = (content, maxLength = 150) => {\r\n        if (!content) return '';\r\n        if (content.length <= maxLength) return content;\r\n        return content.substring(0, maxLength) + '...';\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex h-screen bg-gray-100\">\r\n                <Sidebar />\r\n                <div className=\"flex-1 flex flex-col\">\r\n                    <Navbar />\r\n                    <div className=\"flex-1 flex items-center justify-center\">\r\n                        <div className=\"text-center\">\r\n                            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\r\n                            <p className=\"mt-4 text-gray-600\">{t('loading')}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex h-screen bg-gray-100\">\r\n            <Sidebar />\r\n            <div className=\"flex-1 flex flex-col overflow-hidden\">\r\n                <Navbar />\r\n                \r\n                <main className=\"flex-1 overflow-y-auto p-6\">\r\n                    {/* Header with Tabs */}\r\n                    <div className=\"mb-6\">\r\n                        <div className=\"flex justify-between items-center mb-4\">\r\n                            <div className=\"flex items-center gap-6\">\r\n                                <h1 className=\"text-3xl font-bold text-gray-900\">{t('nav.notes')}</h1>\r\n                                \r\n                                {/* Tab Navigation */}\r\n                                <div className=\"flex bg-gray-200 rounded-lg p-1\">\r\n                                    <button\r\n                                        onClick={() => setActiveTab('notes')}\r\n                                        className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${\r\n                                            activeTab === 'notes' \r\n                                                ? 'bg-white text-blue-600 shadow-sm' \r\n                                                : 'text-gray-600 hover:text-gray-900'\r\n                                        }`}\r\n                                    >\r\n                                        üìù {t('notes.notesTab')} ({notes.length})\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={() => setActiveTab('library')}\r\n                                        className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${\r\n                                            activeTab === 'library' \r\n                                                ? 'bg-white text-blue-600 shadow-sm' \r\n                                                : 'text-gray-600 hover:text-gray-900'\r\n                                        }`}\r\n                                    >\r\n                                        üìö {t('notes.libraryTab')} ({documents.length})\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <button\r\n                                onClick={() => activeTab === 'notes' ? setIsCreateModalOpen(true) : setIsAddDocumentModalOpen(true)}\r\n                                className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\"\r\n                            >\r\n                                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 4v16m8-8H4\" />\r\n                                </svg>\r\n                                {activeTab === 'notes' ? t('notes.newNote') : t('notes.addToLibrary')}\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Search and Filter - Notes */}\r\n                        {activeTab === 'notes' && (\r\n                            <>\r\n                                <div className=\"flex gap-4 mb-4\">\r\n                                    <div className=\"flex-1\">\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            placeholder={t('notes.searchNotes')}\r\n                                            value={searchTerm}\r\n                                            onChange={(e) => setSearchTerm(e.target.value)}\r\n                                            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                                        />\r\n                                    </div>\r\n                                    <select\r\n                                        value={filterBy}\r\n                                        onChange={(e) => setFilterBy(e.target.value)}\r\n                                        className=\"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                                    >\r\n                                        <option value=\"all\">{t('notes.allNotes')}</option>\r\n                                        <option value=\"recent\">{t('notes.recent')}</option>\r\n                                        <option value=\"favorites\">{t('notes.favorites')}</option>\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <div className=\"flex gap-4 text-sm text-gray-600 mb-4\">\r\n                                    <span>{notes.length} {t('notes.totalNotes')}</span>\r\n                                    <span>{notes.filter(n => n.isFavorite).length} {t('notes.favoritesCount')}</span>\r\n                                    <span>{filteredNotes.length} {t('notes.showing')}</span>\r\n                                </div>\r\n                            </>\r\n                        )}\r\n\r\n                        {/* Search and Filter - Library */}\r\n                        {activeTab === 'library' && (\r\n                            <>\r\n                                <div className=\"flex gap-4 mb-4\">\r\n                                    <div className=\"flex-1\">\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            placeholder={t('notes.searchLibrary')}\r\n                                            value={librarySearchTerm}\r\n                                            onChange={(e) => setLibrarySearchTerm(e.target.value)}\r\n                                            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                                        />\r\n                                    </div>\r\n                                    <select\r\n                                        value={libraryFilterBy}\r\n                                        onChange={(e) => setLibraryFilterBy(e.target.value)}\r\n                                        className=\"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                                    >\r\n                                        <option value=\"all\">{t('notes.allTypes')}</option>\r\n                                        <option value=\"article\">{t('notes.articles')}</option>\r\n                                        <option value=\"book\">{t('notes.books')}</option>\r\n                                        <option value=\"video\">{t('notes.videos')}</option>\r\n                                        <option value=\"research\">{t('notes.research')}</option>\r\n                                        <option value=\"document\">{t('notes.documents')}</option>\r\n                                        <option value=\"pdf\">{t('notes.pdfs')}</option>\r\n                                        <option value=\"image\">{t('notes.images')}</option>\r\n                                        <option value=\"other\">{t('notes.other')}</option>\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <div className=\"flex gap-4 text-sm text-gray-600 mb-4\">\r\n                                    <span>{documents.length} {t('notes.totalDocuments')}</span>\r\n                                    <span>{filteredDocuments.length} {t('notes.shown')}</span>\r\n                                </div>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Content Area */}\r\n                    {activeTab === 'notes' ? (\r\n                        filteredNotes.length === 0 ? (\r\n                            <div className=\"text-center py-12\">\r\n                                <svg className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n                                </svg>\r\n                                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\r\n                                    {searchTerm || filterBy !== \"all\" ? t('notes.noNotesFound') : t('notes.noNotesYet')}\r\n                                </h3>\r\n                                <p className=\"text-gray-600 mb-4\">\r\n                                    {searchTerm || filterBy !== \"all\" \r\n                                        ? t('notes.tryChangingFilter')\r\n                                        : t('notes.createFirstNote')\r\n                                    }\r\n                                </p>\r\n                                {!searchTerm && filterBy === \"all\" && (\r\n                                    <button\r\n                                        onClick={() => setIsCreateModalOpen(true)}\r\n                                        className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors\"\r\n                                    >\r\n                                        {t('notes.createYourFirstNote')}\r\n                                    </button>\r\n                                )}\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"flex gap-4 h-[calc(100vh-280px)]\">\r\n                                {/* Left Panel - Notes List */}\r\n                                <div className=\"w-80 bg-white rounded-lg shadow-md overflow-hidden flex flex-col\">\r\n                                    <div className=\"flex-1 overflow-y-auto\">\r\n                                        {filteredNotes.map((note) => (\r\n                                            <div\r\n                                                key={note.id}\r\n                                                onClick={() => handleSelectNote(note)}\r\n                                                className={`p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors ${\r\n                                                    selectedNote?.id === note.id ? 'bg-blue-50 border-l-4 border-l-blue-600' : ''\r\n                                                }`}\r\n                                            >\r\n                                                <div className=\"flex items-start justify-between mb-2\">\r\n                                                    <h3 className=\"font-semibold text-gray-900 line-clamp-1 flex-1\">\r\n                                                        {note.title}\r\n                                                    </h3>\r\n                                                    {note.isFavorite && (\r\n                                                        <svg className=\"w-4 h-4 text-yellow-500 flex shrink-0 ml-2\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                            <path d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\" />\r\n                                                        </svg>\r\n                                                    )}\r\n                                                </div>\r\n                                                <p className=\"text-sm text-gray-600 line-clamp-2 mb-2\">\r\n                                                    {truncateContent(note.content, 80)}\r\n                                                </p>\r\n                                                <div className=\"flex items-center justify-between\">\r\n                                                    <span className=\"text-xs text-gray-500\">\r\n                                                        {formatDate(note.updatedAt)}\r\n                                                    </span>\r\n                                                    {note.category && (\r\n                                                        <span className=\"bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full text-xs\">\r\n                                                            {note.category}\r\n                                                        </span>\r\n                                                    )}\r\n                                                </div>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Right Panel - Note Detail */}\r\n                                <div className=\"flex-1 bg-white rounded-lg shadow-md overflow-hidden\">\r\n                                    {selectedNote ? (\r\n                                        <div className=\"h-full flex flex-col\">\r\n                                            {/* Note Header */}\r\n                                            <div className=\"p-6 border-b border-gray-200\">\r\n                                                <div className=\"flex items-start justify-between mb-4\">\r\n                                                    <h1 className=\"text-2xl font-bold text-gray-900 flex-1\">\r\n                                                        {selectedNote.title}\r\n                                                    </h1>\r\n                                                    <div className=\"flex gap-2 ml-4\">\r\n                                                        <button\r\n                                                            onClick={() => handleToggleFavorite(selectedNote.id, selectedNote.isFavorite)}\r\n                                                            className={`p-2 rounded-lg transition-colors ${\r\n                                                                selectedNote.isFavorite \r\n                                                                    ? 'text-yellow-500 bg-yellow-50 hover:bg-yellow-100' \r\n                                                                    : 'text-gray-400 hover:text-yellow-500 hover:bg-gray-100'\r\n                                                            }`}\r\n                                                            title={selectedNote.isFavorite ? t('notes.removeFromFavorites') : t('notes.addToFavorites')}\r\n                                                        >\r\n                                                            <svg className=\"w-5 h-5\" fill={selectedNote.isFavorite ? \"currentColor\" : \"none\"} stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\" />\r\n                                                            </svg>\r\n                                                        </button>\r\n                                                        <button\r\n                                                            onClick={() => handleEditNote(selectedNote)}\r\n                                                            className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\"\r\n                                                            title={t('edit')}\r\n                                                        >\r\n                                                            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\r\n                                                            </svg>\r\n                                                        </button>\r\n                                                        <button\r\n                                                            onClick={() => {\r\n                                                                handleDeleteNote(selectedNote.id);\r\n                                                                setSelectedNote(null);\r\n                                                            }}\r\n                                                            className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\r\n                                                            title={t('delete')}\r\n                                                        >\r\n                                                            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n                                                            </svg>\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"flex items-center gap-4 text-sm text-gray-500\">\r\n                                                    <span>{t('notes.created')}: {formatDate(selectedNote.createdAt)}</span>\r\n                                                    <span>‚Ä¢</span>\r\n                                                    <span>{t('notes.lastUpdated')}: {formatDate(selectedNote.updatedAt)}</span>\r\n                                                    {selectedNote.category && (\r\n                                                        <>\r\n                                                            <span>‚Ä¢</span>\r\n                                                            <span className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs\">\r\n                                                                {selectedNote.category}\r\n                                                            </span>\r\n                                                        </>\r\n                                                    )}\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            {/* Note Content */}\r\n                                            <div className=\"flex-1 overflow-y-auto p-6\">\r\n                                                <div className=\"prose max-w-none\">\r\n                                                    <pre className=\"whitespace-pre-wrap font-sans text-gray-700 leading-relaxed\">\r\n                                                        {selectedNote.content}\r\n                                                    </pre>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    ) : (\r\n                                        <div className=\"h-full flex items-center justify-center text-gray-400\">\r\n                                            <div className=\"text-center\">\r\n                                                <svg className=\"w-16 h-16 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n                                                </svg>\r\n                                                <p className=\"text-lg\">{t('notes.selectNote')}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    ) : (\r\n                        filteredDocuments.length === 0 ? (\r\n                            <div className=\"text-center py-12\">\r\n                                <div className=\"text-6xl mb-4\">üìö</div>\r\n                                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\r\n                                    {librarySearchTerm || libraryFilterBy !== \"all\" ? t('notes.noDocuments') : t('notes.libraryEmpty')}\r\n                                </h3>\r\n                                <p className=\"text-gray-600 mb-4\">\r\n                                    {librarySearchTerm || libraryFilterBy !== \"all\" \r\n                                        ? t('notes.tryChangingLibraryFilter')\r\n                                        : t('notes.addFirstDocument')\r\n                                    }\r\n                                </p>\r\n                                {!librarySearchTerm && libraryFilterBy === \"all\" && (\r\n                                    <button\r\n                                        onClick={() => setIsAddDocumentModalOpen(true)}\r\n                                        className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors\"\r\n                                    >\r\n                                        {t('notes.createFirstDocumentBtn')}\r\n                                    </button>\r\n                                )}\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                                {filteredDocuments.map((document) => (\r\n                                    <DocumentCard\r\n                                        key={document.id}\r\n                                        document={document}\r\n                                        onDelete={handleDeleteDocument}\r\n                                    />\r\n                                ))}\r\n                            </div>\r\n                        )\r\n                    )}\r\n                </main>\r\n            </div>\r\n\r\n            {/* Modals */}\r\n            <CreateNoteModal\r\n                isOpen={isCreateModalOpen}\r\n                onClose={() => setIsCreateModalOpen(false)}\r\n                onSubmit={handleCreateNote}\r\n            />\r\n\r\n            <EditNoteModal\r\n                isOpen={isEditModalOpen}\r\n                onClose={() => {\r\n                    setIsEditModalOpen(false);\r\n                    setEditingNote(null);\r\n                }}\r\n                onSubmit={handleUpdateNote}\r\n                note={editingNote}\r\n            />\r\n\r\n            <AddDocumentModal\r\n                isOpen={isAddDocumentModalOpen}\r\n                onClose={() => setIsAddDocumentModalOpen(false)}\r\n                onSubmit={handleCreateDocument}\r\n            />\r\n        </div>\r\n    );\r\n}","\"use client\";\r\nimport { useState, useEffect } from 'react';\r\nimport { useStrings } from \"@/app/hooks/useStrings\";\r\nimport { uploadNoteFile } from '@/app/utils/fileStorage';\r\n\r\nconst CreateNoteModal = ({ isOpen, onClose, onSubmit, project, user }) => {\r\n    const { t } = useStrings();\r\n    const [formData, setFormData] = useState({\r\n        title: '',\r\n        content: '',\r\n        category: ''\r\n    });\r\n    const [attachedFiles, setAttachedFiles] = useState([]);\r\n    const [uploadingFiles, setUploadingFiles] = useState(false);\r\n\r\n    const getCategories = () => [\r\n        { key: 'personal', label: t('notes.categories.personal') },\r\n        { key: 'work', label: t('notes.categories.work') },\r\n        { key: 'ideas', label: t('notes.categories.ideas') },\r\n        { key: 'tasks', label: t('notes.categories.tasks') },\r\n        { key: 'meetings', label: t('notes.categories.meetings') },\r\n        { key: 'research', label: t('notes.categories.research') },\r\n        { key: 'other', label: t('notes.categories.other') }\r\n    ];\r\n\r\n    // Reset form when modal opens/closes\r\n    useEffect(() => {\r\n        if (!isOpen) {\r\n            setFormData({\r\n                title: '',\r\n                content: '',\r\n                category: ''\r\n            });\r\n            setAttachedFiles([]);\r\n        }\r\n    }, [isOpen]);\r\n\r\n    // Prevent body scroll when modal is open\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            document.body.style.overflow = 'hidden';\r\n        } else {\r\n            document.body.style.overflow = 'unset';\r\n        }\r\n        \r\n        return () => {\r\n            document.body.style.overflow = 'unset';\r\n        };\r\n    }, [isOpen]);\r\n\r\n    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–æ–≤\r\n    const handleFileSelect = async (files) => {\r\n        if (!files || files.length === 0) return;\r\n        \r\n        setUploadingFiles(true);\r\n        const uploadedFiles = [];\r\n        \r\n        try {\r\n            for (const file of Array.from(files)) {\r\n                // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞ (–º–∞–∫—Å–∏–º—É–º 10MB)\r\n                if (file.size > 10 * 1024 * 1024) {\r\n                    alert(t('notes.fileTooLarge').replace('{fileName}', file.name));\r\n                    continue;\r\n                }\r\n                \r\n                // –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π ID –¥–ª—è –∑–∞–º–µ—Ç–∫–∏\r\n                const tempNoteId = Date.now().toString();\r\n                \r\n                const uploadedFile = await uploadNoteFile(\r\n                    file, \r\n                    project?.id || 'temp', \r\n                    tempNoteId, \r\n                    user?.uid || 'anonymous'\r\n                );\r\n                \r\n                uploadedFiles.push(uploadedFile);\r\n            }\r\n            \r\n            setAttachedFiles(prev => [...prev, ...uploadedFiles]);\r\n        } catch (error) {\r\n            console.error('File upload error:', error);\r\n            alert(t('notes.fileUploadError'));\r\n        } finally {\r\n            setUploadingFiles(false);\r\n        }\r\n    };\r\n\r\n    // –§—É–Ω–∫—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∞–π–ª–∞\r\n    const removeFile = (index) => {\r\n        setAttachedFiles(prev => prev.filter((_, i) => i !== index));\r\n    };\r\n\r\n    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–∫–æ–Ω–∫–∏ —Ñ–∞–π–ª–∞\r\n    const getFileIcon = (file) => {\r\n        if (file.type?.startsWith('image/')) return 'üñºÔ∏è';\r\n        if (file.type?.includes('pdf')) return 'üìÑ';\r\n        if (file.name?.endsWith('.kml') || file.name?.endsWith('.gpx')) return 'üó∫Ô∏è';\r\n        return 'üìé';\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        \r\n        console.log('Form submission started with data:', formData);\r\n        \r\n        if (!formData.title.trim()) {\r\n            alert(t('notes.pleaseEnterTitle'));\r\n            return;\r\n        }\r\n        \r\n        if (!formData.content.trim()) {\r\n            alert(t('notes.pleaseEnterContent'));\r\n            return;\r\n        }\r\n        \r\n        console.log('Calling onSubmit with:', { ...formData, attachments: attachedFiles });\r\n        onSubmit({ ...formData, attachments: attachedFiles });\r\n    };\r\n\r\n    const handleInputChange = (field, value) => {\r\n        setFormData(prev => ({\r\n            ...prev,\r\n            [field]: value\r\n        }));\r\n    };\r\n\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div \r\n            className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-auto\"\r\n            onClick={(e) => {\r\n                if (e.target === e.currentTarget) {\r\n                    onClose();\r\n                }\r\n            }}\r\n        >\r\n            <div \r\n                className=\"bg-white rounded-lg p-6 w-full max-w-2xl max-h-full overflow-auto my-auto mx-auto shadow-xl\"\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                <div className=\"flex justify-between items-center mb-3\">\r\n                    <h2 className=\"text-2xl font-semibold text-gray-900\">{t('notes.createNewNote')}</h2>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"text-gray-500 hover:text-gray-700 transition-colors\"\r\n                    >\r\n                        <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n\r\n                <form onSubmit={handleSubmit} className=\"space-y-3\">\r\n                    {/* Title */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                            {t('notes.noteTitle')} <span className=\"text-red-500\">*</span>\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            required\r\n                            value={formData.title}\r\n                            onChange={(e) => handleInputChange('title', e.target.value)}\r\n                            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                            placeholder={t('notes.enterNoteTitle')}\r\n                            maxLength={100}\r\n                        />\r\n                        <div className=\"text-right text-xs text-gray-500 mt-1\">\r\n                            {formData.title.length}/100\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Category */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                            {t('notes.categoryOptional')}\r\n                        </label>\r\n                        <select\r\n                            value={formData.category}\r\n                            onChange={(e) => handleInputChange('category', e.target.value)}\r\n                            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                        >\r\n                            <option value=\"\">{t('notes.selectCategory')}</option>\r\n                            {getCategories().map(category => (\r\n                                <option key={category.key} value={category.key}>\r\n                                    {category.label}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n\r\n                    {/* Content */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                            {t('notes.noteContent')} <span className=\"text-red-500\">*</span>\r\n                        </label>\r\n                        <textarea\r\n                            required\r\n                            value={formData.content}\r\n                            onChange={(e) => handleInputChange('content', e.target.value)}\r\n                            rows={12}\r\n                            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical\"\r\n                            placeholder={t('notes.writeNoteContent')}\r\n                            maxLength={5000}\r\n                        />\r\n                        <div className=\"text-right text-xs text-gray-500 mt-1\">\r\n                            {formData.content.length}/5000\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* File Upload Section */}\r\n                    <div className=\"mb-4\">\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                            {t('files.attachments')} üìé\r\n                        </label>\r\n                        \r\n                        {/* File Drop Zone */}\r\n                        <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-blue-400 transition-colors\">\r\n                            <input\r\n                                type=\"file\"\r\n                                multiple\r\n                                id=\"file-upload\"\r\n                                className=\"hidden\"\r\n                                onChange={(e) => handleFileSelect(e.target.files)}\r\n                                accept=\"image/*,application/pdf,.doc,.docx,.txt,.csv,.kml,.gpx\"\r\n                            />\r\n                            \r\n                            <label htmlFor=\"file-upload\" className=\"cursor-pointer\">\r\n                                <div className=\"space-y-2\">\r\n                                    <svg className=\"w-8 h-8 mx-auto text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\r\n                                    </svg>\r\n                                    <p className=\"text-sm text-gray-500\">\r\n                                        {uploadingFiles ? t('notes.uploadingFiles') : t('notes.fileDropZone')}\r\n                                    </p>\r\n                                    <p className=\"text-xs text-gray-400\">\r\n                                        {t('notes.fileDropHint')}\r\n                                    </p>\r\n                                </div>\r\n                            </label>\r\n                        </div>\r\n\r\n                        {/* Attached Files List */}\r\n                        {attachedFiles.length > 0 && (\r\n                            <div className=\"mt-3 space-y-2\">\r\n                                <p className=\"text-sm font-medium text-gray-700\">\r\n                                    {t('notes.attachedFiles')} ({attachedFiles.length}):\r\n                                </p>\r\n                                {attachedFiles.map((file, index) => (\r\n                                    <div key={index} className=\"flex items-center justify-between p-2 bg-gray-50 rounded hover:bg-gray-100 transition-colors\">\r\n                                        <div className=\"flex items-center space-x-2\">\r\n                                            <span className=\"text-sm\">\r\n                                                {getFileIcon(file)}\r\n                                            </span>\r\n                                            <div>\r\n                                                <p className=\"text-sm font-medium text-gray-700\">\r\n                                                    {file.name}\r\n                                                </p>\r\n                                                <p className=\"text-xs text-gray-500\">\r\n                                                    {(file.size / 1024 / 1024).toFixed(2)} {t('notes.mb')}\r\n                                                </p>\r\n                                            </div>\r\n                                        </div>\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            onClick={() => removeFile(index)}\r\n                                            className=\"text-red-500 hover:text-red-700 text-sm p-2\"\r\n                                        >\r\n                                            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\r\n                                            </svg>\r\n                                        </button>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Form Actions */}\r\n                    <div className=\"flex justify-end gap-3 pt-6 border-t border-gray-200\">\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={onClose}\r\n                            className=\"px-6 py-3 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors\"\r\n                        >\r\n                            {t('cancel')}\r\n                        </button>\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={!formData.title.trim() || !formData.content.trim() || uploadingFiles}\r\n                            className=\"px-6 py-3 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n                        >\r\n                            {uploadingFiles ? t('notes.uploadingFiles') : t('notes.createNote')}\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CreateNoteModal;","// –°–æ–∑–¥–∞–π—Ç–µ app/utils/fileStorage.js\r\nimport { storage } from '@/app/api/firebase';\r\nimport { ref, uploadBytes, getDownloadURL, deleteObject } from 'firebase/storage';\r\n\r\nexport const uploadNoteFile = async (file, projectId, noteId, userId) => {\r\n  try {\r\n    const timestamp = Date.now();\r\n    const sanitizedName = file.name.replace(/[^a-zA-Z0-9.-]/g, '_');\r\n    const path = `projects/${projectId}/notes/${noteId}/files/${timestamp}_${sanitizedName}`;\r\n    \r\n    const fileRef = ref(storage, path);\r\n    const snapshot = await uploadBytes(fileRef, file);\r\n    const downloadURL = await getDownloadURL(snapshot.ref);\r\n    \r\n    return {\r\n      url: downloadURL,\r\n      path: path,\r\n      name: file.name,\r\n      size: file.size,\r\n      type: file.type,\r\n      uploadedAt: new Date().toISOString(),\r\n      uploadedBy: userId\r\n    };\r\n  } catch (error) {\r\n    console.error('Error uploading file:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteNoteFile = async (filePath) => {\r\n  try {\r\n    const fileRef = ref(storage, filePath);\r\n    await deleteObject(fileRef);\r\n    return true;\r\n  } catch (error) {\r\n    console.error('Error deleting file:', error);\r\n    throw error;\r\n  }\r\n};","\"use client\";\r\nimport { useState, useEffect } from 'react';\r\nimport { useStrings } from \"@/app/hooks/useStrings\";\r\n\r\nconst EditNoteModal = ({ isOpen, onClose, onSubmit, note }) => {\r\n    const { t, language } = useStrings();\r\n    const [formData, setFormData] = useState({\r\n        title: '',\r\n        content: '',\r\n        category: ''\r\n    });\r\n    const [attachedFiles, setAttachedFiles] = useState(note?.attachments || []);\r\n    const [uploadingFiles, setUploadingFiles] = useState(false);\r\n\r\n    const getLocale = () => {\r\n        switch (language) {\r\n            case 'ru': return 'ru-RU';\r\n            case 'en': return 'en-GB';\r\n            case 'uz': return 'uz-UZ';\r\n            default: return 'en-GB';\r\n        }\r\n    };\r\n\r\n    const getCategories = () => [\r\n        { key: 'personal', label: t('notes.categories.personal') },\r\n        { key: 'work', label: t('notes.categories.work') },\r\n        { key: 'ideas', label: t('notes.categories.ideas') },\r\n        { key: 'tasks', label: t('notes.categories.tasks') },\r\n        { key: 'meetings', label: t('notes.categories.meetings') },\r\n        { key: 'research', label: t('notes.categories.research') },\r\n        { key: 'other', label: t('notes.categories.other') }\r\n    ];\r\n\r\n    useEffect(() => {\r\n        if (note) {\r\n            setFormData({\r\n                title: note.title || '',\r\n                content: note.content || '',\r\n                category: note.category || ''\r\n            });\r\n            setAttachedFiles(note.attachments || []);\r\n        }\r\n    }, [note]);\r\n\r\n    useEffect(() => {\r\n        if (!isOpen) {\r\n            setFormData({\r\n                title: '',\r\n                content: '',\r\n                category: ''\r\n            });\r\n            setAttachedFiles([]);\r\n        }\r\n    }, [isOpen]);\r\n\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            document.body.style.overflow = 'hidden';\r\n        } else {\r\n            document.body.style.overflow = 'unset';\r\n        }\r\n        \r\n        return () => {\r\n            document.body.style.overflow = 'unset';\r\n        };\r\n    }, [isOpen]);\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        \r\n        if (!formData.title.trim()) {\r\n            alert(t('notes.pleaseEnterTitle'));\r\n            return;\r\n        }\r\n        \r\n        if (!formData.content.trim()) {\r\n            alert(t('notes.pleaseEnterContent'));\r\n            return;\r\n        }\r\n        \r\n        if (!note?.id) {\r\n            alert(t('error'));\r\n            return;\r\n        }\r\n\r\n        onSubmit(note.id, { ...formData, attachments: attachedFiles });\r\n    };\r\n\r\n    const handleInputChange = (field, value) => {\r\n        setFormData(prev => ({\r\n            ...prev,\r\n            [field]: value\r\n        }));\r\n    };\r\n\r\n    const formatDate = (dateString) => {\r\n        if (!dateString) return '';\r\n        const date = new Date(dateString);\r\n        return date.toLocaleDateString(getLocale(), {\r\n            year: 'numeric',\r\n            month: 'long',\r\n            day: 'numeric',\r\n            hour: '2-digit',\r\n            minute: '2-digit'\r\n        });\r\n    };\r\n\r\n    const handleFileChange = (e) => {\r\n        const files = Array.from(e.target.files);\r\n        setAttachedFiles(prev => [...prev, ...files]);\r\n    };\r\n\r\n    const handleRemoveFile = (fileName) => {\r\n        setAttachedFiles(prev => prev.filter(file => file.name !== fileName));\r\n    };\r\n\r\n    const handleUploadFiles = () => {\r\n        setUploadingFiles(true);\r\n        setTimeout(() => {\r\n            setUploadingFiles(false);\r\n        }, 2000);\r\n    };\r\n\r\n    if (!isOpen || !note) return null;\r\n\r\n    return (\r\n        <div \r\n            className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto\"\r\n            onClick={(e) => {\r\n                if (e.target === e.currentTarget) {\r\n                    onClose();\r\n                }\r\n            }}\r\n        >\r\n            <div \r\n                className=\"bg-white rounded-lg p-6 w-full max-w-2xl max-h-full overflow-auto my-auto mx-auto shadow-xl\"\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                <div className=\"flex justify-between items-center mb-3\">\r\n                    <div>\r\n                        <h2 className=\"text-2xl font-semibold text-gray-900\">{t('notes.editNote')}</h2>\r\n                        <div className=\"text-sm text-gray-500 mt-1\">\r\n                            <span>{t('notes.created')}: {formatDate(note.createdAt)}</span>\r\n                            {note.updatedAt !== note.createdAt && (\r\n                                <span className=\"ml-4\">{t('notes.lastUpdated')}: {formatDate(note.updatedAt)}</span>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"text-gray-500 hover:text-gray-700 transition-colors\"\r\n                    >\r\n                        <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n\r\n                <form onSubmit={handleSubmit} className=\"space-y-3\">\r\n                    {/* Title */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                            {t('notes.noteTitle')} <span className=\"text-red-500\">*</span>\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            required\r\n                            value={formData.title}\r\n                            onChange={(e) => handleInputChange('title', e.target.value)}\r\n                            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                            placeholder={t('notes.enterNoteTitle')}\r\n                            maxLength={100}\r\n                        />\r\n                        <div className=\"text-right text-xs text-gray-500 mt-1\">\r\n                            {formData.title.length}/100\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Category */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                            {t('notes.categoryOptional')}\r\n                        </label>\r\n                        <select\r\n                            value={formData.category}\r\n                            onChange={(e) => handleInputChange('category', e.target.value)}\r\n                            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                        >\r\n                            <option value=\"\">{t('notes.selectCategory')}</option>\r\n                            {getCategories().map(category => (\r\n                                <option key={category.key} value={category.key}>\r\n                                    {category.label}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n\r\n                    {/* Content */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                            {t('notes.noteContent')} <span className=\"text-red-500\">*</span>\r\n                        </label>\r\n                        <textarea\r\n                            required\r\n                            value={formData.content}\r\n                            onChange={(e) => handleInputChange('content', e.target.value)}\r\n                            rows={12}\r\n                            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical\"\r\n                            placeholder={t('notes.writeNoteContent')}\r\n                            maxLength={5000}\r\n                        />\r\n                        <div className=\"text-right text-xs text-gray-500 mt-1\">\r\n                            {formData.content.length}/5000\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* File Attachments */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                            {t('files.attachments')}\r\n                        </label>\r\n                        <div className=\"flex flex-col gap-2\">\r\n                            {attachedFiles.length === 0 ? (\r\n                                <span className=\"text-gray-500 text-sm\">{t('library.noFiles')}</span>\r\n                            ) : (\r\n                                attachedFiles.map((file, index) => (\r\n                                    <div key={index} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg border\">\r\n                                        <div className=\"flex items-center gap-2\">\r\n                                            <svg className=\"w-5 h-5 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                <path d=\"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8l-6-6zm4 18H6V4h7v5h5v11z\" />\r\n                                            </svg>\r\n                                            <span className=\"text-sm font-medium text-gray-900\">{file.name}</span>\r\n                                        </div>\r\n                                        <button\r\n                                            onClick={() => handleRemoveFile(file.name)}\r\n                                            className=\"text-red-600 hover:text-red-800 transition-colors\"\r\n                                            type=\"button\"\r\n                                        >\r\n                                            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\r\n                                            </svg>\r\n                                        </button>\r\n                                    </div>\r\n                                ))\r\n                            )}\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2 mt-3\">\r\n                            <label className=\"flex items-center cursor-pointer\">\r\n                                <input\r\n                                    type=\"file\"\r\n                                    multiple\r\n                                    onChange={handleFileChange}\r\n                                    className=\"hidden\"\r\n                                />\r\n                                <span className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors\">\r\n                                    {t('files.uploadFile')}\r\n                                </span>\r\n                            </label>\r\n                            {uploadingFiles && (\r\n                                <span className=\"text-sm text-gray-500\">{t('notes.uploadingFiles')}</span>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Note Status */}\r\n                    {note.isFavorite && (\r\n                        <div className=\"flex items-center gap-2 text-yellow-600 bg-yellow-50 px-3 py-2 rounded-lg\">\r\n                            <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                                <path d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\" />\r\n                            </svg>\r\n                            <span className=\"text-sm font-medium\">{t('notes.markedAsFavorite')}</span>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Form Actions */}\r\n                    <div className=\"flex justify-end gap-3 pt-6 border-t border-gray-200\">\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={onClose}\r\n                            className=\"px-6 py-3 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors\"\r\n                        >\r\n                            {t('cancel')}\r\n                        </button>\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={!formData.title.trim() || !formData.content.trim()}\r\n                            className=\"px-6 py-3 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n                        >\r\n                            {t('notes.updateNote')}\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EditNoteModal;"],"names":[],"mappings":"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"}