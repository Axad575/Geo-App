(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94523,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(18566);e.i(51718);var l=e.i(18357),a=e.i(86632);e.i(36180);var n=e.i(98925);e.i(61086);var o=e.i(27215),i=e.i(77690),c=e.i(78698),d=e.i(35428);let u=async(e,t,s,r)=>{try{let l=Date.now(),n=e.name.replace(/[^a-zA-Z0-9.-]/g,"_"),i=`projects/${t}/notes/${s}/files/${l}_${n}`,c=(0,o.ref)(a.storage,i),d=await (0,o.uploadBytes)(c,e);return{url:await (0,o.getDownloadURL)(d.ref),path:i,name:e.name,size:e.size,type:e.type,uploadedAt:new Date().toISOString(),uploadedBy:r}}catch(e){throw console.error("Error uploading file:",e),e}},x=({isOpen:e,onClose:r,onSubmit:l,project:a,user:n})=>{let{t:o}=(0,d.useStrings)(),[i,c]=(0,s.useState)({title:"",content:"",category:""}),[x,m]=(0,s.useState)([]),[h,g]=(0,s.useState)(!1);(0,s.useEffect)(()=>{e||(c({title:"",content:"",category:""}),m([]))},[e]),(0,s.useEffect)(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);let p=async e=>{if(!e||0===e.length)return;g(!0);let t=[];try{for(let s of Array.from(e)){if(s.size>0xa00000){alert(o("notes.fileTooLarge").replace("{fileName}",s.name));continue}let e=Date.now().toString(),r=await u(s,a?.id||"temp",e,n?.uid||"anonymous");t.push(r)}m(e=>[...e,...t])}catch(e){console.error("File upload error:",e),alert(o("notes.fileUploadError"))}finally{g(!1)}},f=async e=>{(e.preventDefault(),console.log("Form submission started with data:",i),i.title.trim())?i.content.trim()?(console.log("Calling onSubmit with:",{...i,attachments:x}),l({...i,attachments:x})):alert(o("notes.pleaseEnterContent")):alert(o("notes.pleaseEnterTitle"))},b=(e,t)=>{c(s=>({...s,[e]:t}))};return e?(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-auto",onClick:e=>{e.target===e.currentTarget&&r()},children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-full overflow-auto my-auto mx-auto shadow-xl",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:o("notes.createNewNote")}),(0,t.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 transition-colors",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("form",{onSubmit:f,className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o("notes.noteTitle")," ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",required:!0,value:i.title,onChange:e=>b("title",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:o("notes.enterNoteTitle"),maxLength:100}),(0,t.jsxs)("div",{className:"text-right text-xs text-gray-500 mt-1",children:[i.title.length,"/100"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:o("notes.categoryOptional")}),(0,t.jsxs)("select",{value:i.category,onChange:e=>b("category",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"",children:o("notes.selectCategory")}),[{key:"personal",label:o("notes.categories.personal")},{key:"work",label:o("notes.categories.work")},{key:"ideas",label:o("notes.categories.ideas")},{key:"tasks",label:o("notes.categories.tasks")},{key:"meetings",label:o("notes.categories.meetings")},{key:"research",label:o("notes.categories.research")},{key:"other",label:o("notes.categories.other")}].map(e=>(0,t.jsx)("option",{value:e.key,children:e.label},e.key))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o("notes.noteContent")," ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("textarea",{required:!0,value:i.content,onChange:e=>b("content",e.target.value),rows:12,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical",placeholder:o("notes.writeNoteContent"),maxLength:5e3}),(0,t.jsxs)("div",{className:"text-right text-xs text-gray-500 mt-1",children:[i.content.length,"/5000"]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o("files.attachments")," ðŸ“Ž"]}),(0,t.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-blue-400 transition-colors",children:[(0,t.jsx)("input",{type:"file",multiple:!0,id:"file-upload",className:"hidden",onChange:e=>p(e.target.files),accept:"image/*,application/pdf,.doc,.docx,.txt,.csv,.kml,.gpx"}),(0,t.jsx)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("svg",{className:"w-8 h-8 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:h?o("notes.uploadingFiles"):o("notes.fileDropZone")}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:o("notes.fileDropHint")})]})})]}),x.length>0&&(0,t.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,t.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:[o("notes.attachedFiles")," (",x.length,"):"]}),x.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded hover:bg-gray-100 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-sm",children:e.type?.startsWith("image/")?"ðŸ–¼ï¸":e.type?.includes("pdf")?"ðŸ“„":e.name?.endsWith(".kml")||e.name?.endsWith(".gpx")?"ðŸ—ºï¸":"ðŸ“Ž"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[(e.size/1024/1024).toFixed(2)," ",o("notes.mb")]})]})]}),(0,t.jsx)("button",{type:"button",onClick:()=>{m(e=>e.filter((e,t)=>t!==s))},className:"text-red-500 hover:text-red-700 text-sm p-2",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},s))]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[(0,t.jsx)("button",{type:"button",onClick:r,className:"px-6 py-3 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors",children:o("cancel")}),(0,t.jsx)("button",{type:"submit",disabled:!i.title.trim()||!i.content.trim()||h,className:"px-6 py-3 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:h?o("notes.uploadingFiles"):o("notes.createNote")})]})]})]})}):null},m=({isOpen:e,onClose:r,onSubmit:l,note:a})=>{let{t:n,language:o}=(0,d.useStrings)(),[i,c]=(0,s.useState)({title:"",content:"",category:""}),[u,x]=(0,s.useState)(a?.attachments||[]),[m,h]=(0,s.useState)(!1);(0,s.useEffect)(()=>{a&&(c({title:a.title||"",content:a.content||"",category:a.category||""}),x(a.attachments||[]))},[a]),(0,s.useEffect)(()=>{e||(c({title:"",content:"",category:""}),x([]))},[e]),(0,s.useEffect)(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);let g=(e,t)=>{c(s=>({...s,[e]:t}))},p=e=>e?new Date(e).toLocaleDateString((()=>{switch(o){case"ru":return"ru-RU";case"en":default:return"en-GB";case"uz":return"uz-UZ"}})(),{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"";return e&&a?(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",onClick:e=>{e.target===e.currentTarget&&r()},children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-full overflow-auto my-auto mx-auto shadow-xl",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:n("notes.editNote")}),(0,t.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:[(0,t.jsxs)("span",{children:[n("notes.created"),": ",p(a.createdAt)]}),a.updatedAt!==a.createdAt&&(0,t.jsxs)("span",{className:"ml-4",children:[n("notes.lastUpdated"),": ",p(a.updatedAt)]})]})]}),(0,t.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 transition-colors",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("form",{onSubmit:e=>{(e.preventDefault(),i.title.trim())?i.content.trim()?a?.id?l(a.id,{...i,attachments:u}):alert(n("error")):alert(n("notes.pleaseEnterContent")):alert(n("notes.pleaseEnterTitle"))},className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n("notes.noteTitle")," ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",required:!0,value:i.title,onChange:e=>g("title",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:n("notes.enterNoteTitle"),maxLength:100}),(0,t.jsxs)("div",{className:"text-right text-xs text-gray-500 mt-1",children:[i.title.length,"/100"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("notes.categoryOptional")}),(0,t.jsxs)("select",{value:i.category,onChange:e=>g("category",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"",children:n("notes.selectCategory")}),[{key:"personal",label:n("notes.categories.personal")},{key:"work",label:n("notes.categories.work")},{key:"ideas",label:n("notes.categories.ideas")},{key:"tasks",label:n("notes.categories.tasks")},{key:"meetings",label:n("notes.categories.meetings")},{key:"research",label:n("notes.categories.research")},{key:"other",label:n("notes.categories.other")}].map(e=>(0,t.jsx)("option",{value:e.key,children:e.label},e.key))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n("notes.noteContent")," ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("textarea",{required:!0,value:i.content,onChange:e=>g("content",e.target.value),rows:12,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical",placeholder:n("notes.writeNoteContent"),maxLength:5e3}),(0,t.jsxs)("div",{className:"text-right text-xs text-gray-500 mt-1",children:[i.content.length,"/5000"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("files.attachments")}),(0,t.jsx)("div",{className:"flex flex-col gap-2",children:0===u.length?(0,t.jsx)("span",{className:"text-gray-500 text-sm",children:n("library.noFiles")}):u.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8l-6-6zm4 18H6V4h7v5h5v11z"})}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.name})]}),(0,t.jsx)("button",{onClick:()=>{var t;return t=e.name,void x(e=>e.filter(e=>e.name!==t))},className:"text-red-600 hover:text-red-800 transition-colors",type:"button",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},s))}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,t.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"file",multiple:!0,onChange:e=>{let t=Array.from(e.target.files);x(e=>[...e,...t])},className:"hidden"}),(0,t.jsx)("span",{className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:n("files.uploadFile")})]}),m&&(0,t.jsx)("span",{className:"text-sm text-gray-500",children:n("notes.uploadingFiles")})]})]}),a.isFavorite&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-yellow-600 bg-yellow-50 px-3 py-2 rounded-lg",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),(0,t.jsx)("span",{className:"text-sm font-medium",children:n("notes.markedAsFavorite")})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[(0,t.jsx)("button",{type:"button",onClick:r,className:"px-6 py-3 text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-50 rounded-lg transition-colors",children:n("cancel")}),(0,t.jsx)("button",{type:"submit",disabled:!i.title.trim()||!i.content.trim(),className:"px-6 py-3 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n("notes.updateNote")})]})]})]})}):null},h=({isOpen:e,onClose:r,onSubmit:n})=>{let{t:i}=(0,d.useStrings)(),[c,u]=(0,s.useState)({title:"",description:"",type:"article",url:"",tags:"",file:null}),[x,m]=(0,s.useState)(!1),[h,g]=(0,s.useState)(0),p=async(e,t)=>{try{let s=new Date().getTime(),r=`${s}_${e.name}`,l=(0,o.ref)(a.storage,`documents/${t}/${r}`);g(25);let n=await (0,o.uploadBytes)(l,e);g(75);let i=await (0,o.getDownloadURL)(n.ref);return g(90),{name:e.name,type:e.type,size:e.size,url:i,storagePath:n.ref.fullPath,lastModified:e.lastModified}}catch(e){throw console.error("Error uploading file to storage:",e),e}},f=async e=>{if(e.preventDefault(),c.title.trim()){m(!0),g(0);try{let e=null;if(c.file){let t=(0,l.getAuth)(a.app),s=t.currentUser?.uid;if(!s)throw Error(i("auth.loginError"));e=await p(c.file,s)}let t={title:c.title,description:c.description,type:c.type,url:c.url,tags:c.tags.split(",").map(e=>e.trim()).filter(e=>e),file:e};g(100),await n(t),u({title:"",description:"",type:"article",url:"",tags:"",file:null})}catch(e){console.error("Error submitting document:",e),alert(i("notes.errorAddingDocument")+": "+e.message)}finally{m(!1),g(0)}}};return e?(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:i("notes.addDocument")}),(0,t.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("notes.titleRequired")}),(0,t.jsx)("input",{type:"text",required:!0,value:c.title,onChange:e=>u(t=>({...t,title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:i("notes.documentTitlePlaceholder")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("notes.description")}),(0,t.jsx)("textarea",{value:c.description,onChange:e=>u(t=>({...t,description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:i("notes.descriptionPlaceholder")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("notes.type")}),(0,t.jsxs)("select",{value:c.type,onChange:e=>u(t=>({...t,type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"article",children:i("notes.article")}),(0,t.jsx)("option",{value:"document",children:i("notes.document")}),(0,t.jsx)("option",{value:"book",children:i("notes.book")}),(0,t.jsx)("option",{value:"research",children:i("notes.researchType")}),(0,t.jsx)("option",{value:"video",children:i("notes.video")}),(0,t.jsx)("option",{value:"pdf",children:i("notes.pdf")}),(0,t.jsx)("option",{value:"image",children:i("notes.image")}),(0,t.jsx)("option",{value:"other",children:i("notes.otherType")})]})]}),(0,t.jsx)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:i("notes.chooseMethod")}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("label",{className:"cursor-pointer inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,t.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),i("notes.uploadFile"),(0,t.jsx)("input",{type:"file",onChange:e=>{let t=e.target.files[0];if(t){if(t.size>0xa00000)return void alert(i("notes.fileTooLarge"));c.title?u(e=>({...e,file:t})):u(e=>({...e,title:t.name.replace(/\.[^/.]+$/,""),file:t}))}},className:"hidden",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.mp4,.mp3,.zip,.rar",disabled:x})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:i("notes.maxSize")})]}),c.file&&(0,t.jsx)("div",{className:"bg-green-50 border border-green-200 rounded p-3 mb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-green-800",children:c.file.name}),(0,t.jsxs)("p",{className:"text-xs text-green-600",children:[(c.file.size/1024/1024).toFixed(2)," MB"]})]})]}),(0,t.jsx)("button",{type:"button",onClick:()=>{u(e=>({...e,file:null}))},disabled:x,className:"text-red-500 hover:text-red-700 disabled:opacity-50",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,t.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:i("notes.orText")}),(0,t.jsx)("input",{type:"url",value:c.url,onChange:e=>u(t=>({...t,url:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:i("notes.addLink"),disabled:!!c.file||x})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("notes.tags")}),(0,t.jsx)("input",{type:"text",value:c.tags,onChange:e=>u(t=>({...t,tags:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:i("notes.tagsPlaceholder"),disabled:x})]}),x&&(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[(0,t.jsx)("span",{children:h<25?i("notes.preparingFile"):h<75?i("notes.uploadingToStorage"):h<90?i("notes.gettingLink"):h<100?i("notes.savingToDatabase"):i("notes.completed")}),(0,t.jsxs)("span",{children:[h,"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${h}%`}})})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{type:"submit",disabled:!c.title.trim()||x,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x?i("notes.uploading"):i("notes.add")}),(0,t.jsx)("button",{type:"button",onClick:r,disabled:x,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 disabled:opacity-50 transition-colors",children:i("cancel")})]})]})]})}):null},g=({document:e,onDelete:s})=>{let r,{t:l}=(0,d.useStrings)(),a=()=>{e.file&&e.file.url&&window.open(e.file.url,"_blank")};return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-4 hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,t.jsx)("div",{className:"text-2xl",children:(e=>{switch(e){case"article":default:return"ðŸ“„";case"book":return"ðŸ“š";case"video":return"ðŸŽ¥";case"research":return"ðŸ”¬";case"document":return"ðŸ“‹";case"pdf":return"ðŸ“•";case"image":return"ðŸ–¼ï¸"}})(e.type)}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900 mb-1 line-clamp-2",children:e.url?(0,t.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-600 transition-colors",children:e.title}):(0,t.jsx)("span",{className:"cursor-pointer hover:text-blue-600",onClick:a,children:e.title})}),e.description&&(0,t.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:e.description})]})]}),(0,t.jsx)("button",{onClick:()=>s(e.id,e.file?.storagePath),className:"text-gray-400 hover:text-red-500 p-1",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(e=>{switch(e){case"article":return"bg-blue-100 text-blue-800";case"book":return"bg-green-100 text-green-800";case"video":return"bg-purple-100 text-purple-800";case"research":return"bg-orange-100 text-orange-800";case"document":default:return"bg-gray-100 text-gray-800";case"pdf":return"bg-red-100 text-red-800";case"image":return"bg-yellow-100 text-yellow-800"}})(e.type)}`,children:(r=e.type,l(`notes.${r}`)||r)}),(0,t.jsxs)("div",{className:"flex gap-2",children:[e.url&&(0,t.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-xs",children:["ðŸ”— ",l("notes.openLink")]}),e.file&&e.file.url&&(0,t.jsxs)("button",{onClick:a,className:"text-green-600 hover:text-green-800 text-xs",children:["ðŸ“‚ ",l("notes.openFile")]})]})]}),e.tags&&e.tags.length>0&&(0,t.jsxs)("div",{className:"flex gap-1",children:[e.tags.slice(0,2).map((e,s)=>(0,t.jsxs)("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs",children:["#",e]},s)),e.tags.length>2&&(0,t.jsxs)("span",{className:"text-gray-400 text-xs",children:["+",e.tags.length-2]})]})]}),e.file&&(0,t.jsxs)("div",{className:"text-xs text-gray-500 mt-2 flex justify-between",children:[(0,t.jsxs)("span",{children:["ðŸ“Ž ",e.file.name]}),(0,t.jsx)("span",{children:(e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]})(e.file.size)})]}),e.createdAt&&(0,t.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[l("notes.added"),": ",new Date(e.createdAt).toLocaleDateString()]})]})};function p(){let e=(0,l.getAuth)(a.app),u=(0,r.useRouter)(),{t:p}=(0,d.useStrings)(),[f,b]=(0,s.useState)([]),[y,j]=(0,s.useState)(!0),[v,N]=(0,s.useState)(!1),[w,k]=(0,s.useState)(!1),[C,L]=(0,s.useState)(null),[S,D]=(0,s.useState)(null),[F,M]=(0,s.useState)(""),[A,B]=(0,s.useState)("all"),[z,E]=(0,s.useState)(null),[T,$]=(0,s.useState)([]),[W,O]=(0,s.useState)(!1),[H,I]=(0,s.useState)("notes"),[P,U]=(0,s.useState)(""),[V,q]=(0,s.useState)("all");(0,s.useEffect)(()=>{let t=(0,l.onAuthStateChanged)(e,e=>{e?(D(e),R(e.uid),_(e.uid)):u.push("/")});return()=>t()},[e,u]);let R=async e=>{try{j(!0);let t=(0,n.collection)(a.db,"notes"),s=(0,n.query)(t,(0,n.where)("userId","==",e)),r=(await (0,n.getDocs)(s)).docs.map(e=>({id:e.id,...e.data()}));r.sort((e,t)=>new Date(t.updatedAt)-new Date(e.updatedAt)),b(r)}catch(e){console.error("Error fetching notes:",e)}finally{j(!1)}},_=async e=>{try{let t=(0,n.collection)(a.db,"documents"),s=(0,n.query)(t,(0,n.where)("userId","==",e)),r=(await (0,n.getDocs)(s)).docs.map(e=>({id:e.id,...e.data()}));r.sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)),$(r)}catch(e){console.error("Error fetching documents:",e)}},K=async e=>{try{let t={...e,userId:S.uid,createdAt:new Date().toISOString()};await (0,n.addDoc)((0,n.collection)(a.db,"documents"),t),await _(S.uid),O(!1)}catch(e){console.error("Error creating document:",e),alert(p("notes.errorAddingDocument"))}},Y=async(e,t)=>{if(window.confirm(p("notes.deleteDocument")))try{if(t)try{let e=(0,o.ref)(a.storage,t);await (0,o.deleteObject)(e)}catch(e){console.error("Error deleting file from storage:",e)}await (0,n.deleteDoc)((0,n.doc)(a.db,"documents",e)),await _(S.uid)}catch(e){console.error("Error deleting document:",e),alert(p("notes.errorDeletingDocument"))}},Z=async e=>{try{let t={...e,userId:S.uid,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isFavorite:!1};await (0,n.addDoc)((0,n.collection)(a.db,"notes"),t),await R(S.uid),N(!1)}catch(e){console.error("Error creating note:",e)}},G=async(e,t)=>{try{let s=(0,n.doc)(a.db,"notes",e);await (0,n.updateDoc)(s,{...t,updatedAt:new Date().toISOString()}),R(S.uid),k(!1),L(null)}catch(e){console.error("Error updating note:",e)}},J=async e=>{if(window.confirm(p("notes.confirmDeleteNote")))try{await (0,n.deleteDoc)((0,n.doc)(a.db,"notes",e)),R(S.uid)}catch(e){console.error("Error deleting note:",e)}},Q=async(e,t)=>{try{let s=(0,n.doc)(a.db,"notes",e);await (0,n.updateDoc)(s,{isFavorite:!t,updatedAt:new Date().toISOString()}),R(S.uid)}catch(e){console.error("Error toggling favorite:",e)}},X=f.filter(e=>{let t=e.title.toLowerCase().includes(F.toLowerCase())||e.content.toLowerCase().includes(F.toLowerCase());if("favorites"===A)return t&&e.isFavorite;if("recent"===A){let s=new Date;return s.setDate(s.getDate()-7),t&&new Date(e.updatedAt)>s}return t}),ee=T.filter(e=>{let t=e.title.toLowerCase().includes(P.toLowerCase())||e.description&&e.description.toLowerCase().includes(P.toLowerCase())||e.tags&&e.tags.some(e=>e.toLowerCase().includes(P.toLowerCase()));return"all"===V?t:t&&e.type===V}),et=e=>{let t=new Date(e),s=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),l=t.getFullYear();return`${s}/${r}/${l}`};return y?(0,t.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[(0,t.jsx)(i.default,{}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,t.jsx)(c.default,{}),(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:p("loading")})]})})]})]}):(0,t.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[(0,t.jsx)(i.default,{}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,t.jsx)(c.default,{}),(0,t.jsxs)("main",{className:"flex-1 overflow-y-auto p-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:p("nav.notes")}),(0,t.jsxs)("div",{className:"flex bg-gray-200 rounded-lg p-1",children:[(0,t.jsxs)("button",{onClick:()=>I("notes"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${"notes"===H?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["ðŸ“ ",p("notes.notesTab")," (",f.length,")"]}),(0,t.jsxs)("button",{onClick:()=>I("library"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${"library"===H?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["ðŸ“š ",p("notes.libraryTab")," (",T.length,")"]})]})]}),(0,t.jsxs)("button",{onClick:()=>"notes"===H?N(!0):O(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"notes"===H?p("notes.newNote"):p("notes.addToLibrary")]})]}),"notes"===H&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("input",{type:"text",placeholder:p("notes.searchNotes"),value:F,onChange:e=>M(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,t.jsxs)("select",{value:A,onChange:e=>B(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"all",children:p("notes.allNotes")}),(0,t.jsx)("option",{value:"recent",children:p("notes.recent")}),(0,t.jsx)("option",{value:"favorites",children:p("notes.favorites")})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 text-sm text-gray-600 mb-4",children:[(0,t.jsxs)("span",{children:[f.length," ",p("notes.totalNotes")]}),(0,t.jsxs)("span",{children:[f.filter(e=>e.isFavorite).length," ",p("notes.favoritesCount")]}),(0,t.jsxs)("span",{children:[X.length," ",p("notes.showing")]})]})]}),"library"===H&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("input",{type:"text",placeholder:p("notes.searchLibrary"),value:P,onChange:e=>U(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,t.jsxs)("select",{value:V,onChange:e=>q(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"all",children:p("notes.allTypes")}),(0,t.jsx)("option",{value:"article",children:p("notes.articles")}),(0,t.jsx)("option",{value:"book",children:p("notes.books")}),(0,t.jsx)("option",{value:"video",children:p("notes.videos")}),(0,t.jsx)("option",{value:"research",children:p("notes.research")}),(0,t.jsx)("option",{value:"document",children:p("notes.documents")}),(0,t.jsx)("option",{value:"pdf",children:p("notes.pdfs")}),(0,t.jsx)("option",{value:"image",children:p("notes.images")}),(0,t.jsx)("option",{value:"other",children:p("notes.other")})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 text-sm text-gray-600 mb-4",children:[(0,t.jsxs)("span",{children:[T.length," ",p("notes.totalDocuments")]}),(0,t.jsxs)("span",{children:[ee.length," ",p("notes.shown")]})]})]})]}),"notes"===H?0===X.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:F||"all"!==A?p("notes.noNotesFound"):p("notes.noNotesYet")}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:F||"all"!==A?p("notes.tryChangingFilter"):p("notes.createFirstNote")}),!F&&"all"===A&&(0,t.jsx)("button",{onClick:()=>N(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:p("notes.createYourFirstNote")})]}):(0,t.jsxs)("div",{className:"flex gap-4 h-[calc(100vh-280px)]",children:[(0,t.jsx)("div",{className:"w-80 bg-white rounded-lg shadow-md overflow-hidden flex flex-col",children:(0,t.jsx)("div",{className:"flex-1 overflow-y-auto",children:X.map(e=>(0,t.jsxs)("div",{onClick:()=>{E(e)},className:`p-4 border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors ${z?.id===e.id?"bg-blue-50 border-l-4 border-l-blue-600":""}`,children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 line-clamp-1 flex-1",children:e.title}),e.isFavorite&&(0,t.jsx)("svg",{className:"w-4 h-4 text-yellow-500 flex shrink-0 ml-2",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:((e,t=150)=>e?e.length<=t?e:e.substring(0,t)+"...":"")(e.content,80)}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500",children:et(e.updatedAt)}),e.category&&(0,t.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full text-xs",children:e.category})]})]},e.id))})}),(0,t.jsx)("div",{className:"flex-1 bg-white rounded-lg shadow-md overflow-hidden",children:z?(0,t.jsxs)("div",{className:"h-full flex flex-col",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 flex-1",children:z.title}),(0,t.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,t.jsx)("button",{onClick:()=>Q(z.id,z.isFavorite),className:`p-2 rounded-lg transition-colors ${z.isFavorite?"text-yellow-500 bg-yellow-50 hover:bg-yellow-100":"text-gray-400 hover:text-yellow-500 hover:bg-gray-100"}`,title:z.isFavorite?p("notes.removeFromFavorites"):p("notes.addToFavorites"),children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:z.isFavorite?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),(0,t.jsx)("button",{onClick:()=>{L(z),k(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:p("edit"),children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,t.jsx)("button",{onClick:()=>{J(z.id),E(null)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:p("delete"),children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,t.jsxs)("span",{children:[p("notes.created"),": ",et(z.createdAt)]}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsxs)("span",{children:[p("notes.lastUpdated"),": ",et(z.updatedAt)]}),z.category&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs",children:z.category})]})]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,t.jsx)("div",{className:"prose max-w-none",children:(0,t.jsx)("pre",{className:"whitespace-pre-wrap font-sans text-gray-700 leading-relaxed",children:z.content})})})]}):(0,t.jsx)("div",{className:"h-full flex items-center justify-center text-gray-400",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,t.jsx)("p",{className:"text-lg",children:p("notes.selectNote")})]})})})]}):0===ee.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ“š"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:P||"all"!==V?p("notes.noDocuments"):p("notes.libraryEmpty")}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:P||"all"!==V?p("notes.tryChangingLibraryFilter"):p("notes.addFirstDocument")}),!P&&"all"===V&&(0,t.jsx)("button",{onClick:()=>O(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:p("notes.createFirstDocumentBtn")})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ee.map(e=>(0,t.jsx)(g,{document:e,onDelete:Y},e.id))})]})]}),(0,t.jsx)(x,{isOpen:v,onClose:()=>N(!1),onSubmit:Z}),(0,t.jsx)(m,{isOpen:w,onClose:()=>{k(!1),L(null)},onSubmit:G,note:C}),(0,t.jsx)(h,{isOpen:W,onClose:()=>O(!1),onSubmit:K})]})}e.s(["default",()=>p],94523)}]);