(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,42117,e=>{"use strict";var s=e.i(43476),t=e.i(71645),i=e.i(18566);e.i(51718);var r=e.i(18357),n=e.i(86632);e.i(36180);var a=e.i(98925),c=e.i(35428);function l(){let e=(0,i.useRouter)(),l=(0,r.getAuth)(n.app),{t:o}=(0,c.useStrings)(),[d,u]=(0,t.useState)(!0),[x,m]=(0,t.useState)(""),[h,b]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{let s=l.currentUser;if(!s)return e.push("/");try{for(let e of(await (0,a.getDocs)((0,a.collection)(n.db,"organizations"))).docs)if((await (0,a.getDoc)((0,a.doc)(n.db,`organizations/${e.id}/users/${s.uid}`))).exists()){m(e.data().name||o("noSubscription.yourOrganization"));let s=await (0,a.getDoc)((0,a.doc)(n.db,`organizations/${e.id}/subscription/current`));s.exists()&&b(s.data());break}}catch(e){console.error("Error fetching subscription:",e)}finally{u(!1)}})()},[]);let p=async()=>{try{await (0,r.signOut)(l),e.push("/")}catch(e){console.error("Error signing out:",e)}},g=e=>e?new Date(e).toLocaleDateString("ru-RU",{day:"2-digit",month:"long",year:"numeric"}):o("noSubscription.notSpecified");if(d)return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsx)("div",{className:"text-xl text-gray-600",children:o("noSubscription.loading")})});let j=h?.endDate&&new Date(h.endDate)<new Date;return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-linear-to-br from-red-50 to-orange-50 p-4",children:(0,s.jsxs)("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-2xl p-8",children:[(0,s.jsx)("div",{className:"flex justify-center mb-6",children:(0,s.jsx)("div",{className:"w-24 h-24 bg-red-100 rounded-full flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-12 h-12 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-4",children:o("noSubscription.accessRestricted")}),(0,s.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex shrink-0",children:(0,s.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,s.jsx)("div",{className:"ml-3",children:(0,s.jsx)("p",{className:"text-sm text-red-700 font-medium",children:j?o("noSubscription.subscriptionExpired").replace("{orgName}",x).replace("{date}",g(h.endDate)):o("noSubscription.noActiveSubscription").replace("{orgName}",x)})})]})}),(0,s.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,s.jsx)("p",{className:"text-gray-600 text-center",children:o("noSubscription.accessRequirement")}),h&&(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsxs)("span",{className:"text-gray-600",children:[o("noSubscription.status"),":"]}),(0,s.jsx)("span",{className:"font-semibold text-red-600",children:j?o("noSubscription.expired"):o("noSubscription.notActive")})]}),h.endDate&&(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsxs)("span",{className:"text-gray-600",children:[o("noSubscription.endDate"),":"]}),(0,s.jsx)("span",{className:"font-semibold text-gray-900",children:g(h.endDate)})]})]}),(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:[(0,s.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:o("noSubscription.whatToDo")}),(0,s.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,s.jsxs)("li",{children:["• ",o("noSubscription.contactAdmin")]}),(0,s.jsxs)("li",{children:["• ",o("noSubscription.adminCanRenew")]})]})]})]}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("button",{onClick:p,className:"px-8 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-800 transition-colors font-medium",children:o("noSubscription.logout")})}),(0,s.jsx)("div",{className:"mt-8 pt-6 border-t text-center",children:(0,s.jsx)("p",{className:"text-xs text-gray-500",children:o("noSubscription.footer")})})]})})}e.s(["default",()=>l])}]);