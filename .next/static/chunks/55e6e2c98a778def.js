(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,77690,78698,e=>{"use strict";var s=e.i(43476),t=e.i(18566),r=e.i(35428);function n(){let e=(0,t.useRouter)(),{t:n}=(0,r.useStrings)();return(0,s.jsxs)("div",{className:"sticky top-2 w-56 h-screen bg-green-800 text-white flex flex-col justify-between rounded-lg shadow-lg m-2 shrink-0 z-10",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"p-4 text-2xl font-semibold",children:"Geo-Note"}),(0,s.jsxs)("div",{className:"flex flex-col space-y-4 mt-4 px-4",children:[(0,s.jsx)("button",{onClick:s=>{s.preventDefault(),console.log("Projects button clicked"),e.push("/pages/projects")},className:"bg-green-400 text-black py-2 rounded-md hover:bg-green-300 transition",children:n("nav.projects")}),(0,s.jsx)("button",{onClick:s=>{s.preventDefault(),console.log("News button clicked"),e.push("/pages/news")},className:"bg-green-400 text-black py-2 rounded-md hover:bg-green-300 transition",children:n("nav.news")}),(0,s.jsx)("button",{onClick:s=>{s.preventDefault(),console.log("Meetings button clicked"),e.push("/pages/meetings")},className:"bg-green-400 text-black py-2 rounded-md hover:bg-green-300 transition",children:n("nav.meetings")}),(0,s.jsx)("button",{onClick:s=>{s.preventDefault(),console.log("Notes button clicked"),e.push("/pages/notes")},className:"bg-green-400 text-black py-2 rounded-md hover:bg-green-300 transition",children:n("nav.notes")})]})]}),(0,s.jsxs)("div",{className:"p-4 text-xs text-gray-200",children:[(0,s.jsx)("div",{className:"flex flex-col space-y-4 mt-4 px-4 mb-4",children:(0,s.jsx)("button",{onClick:s=>{s.preventDefault(),console.log("Tickets button clicked"),e.push("/pages/tickets")},className:"bg-green-400 text-black py-2 rounded-md hover:bg-green-300 transition",children:n("nav.tickets")})}),(0,s.jsx)("p",{children:"Made by abdu1axad and dantajd"}),(0,s.jsx)("p",{children:"Copyright 2025"})]})]})}e.s(["default",()=>n],77690);var a=e.i(71645);function i(){let{t:e,language:n}=(0,r.useStrings)(),[i,o]=(0,a.useState)(e("navbar.determining")),[l,c]=(0,a.useState)(!1),d=(0,t.useRouter)();(0,a.useEffect)(()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(e=>{let{latitude:s,longitude:t}=e.coords;o(`${s.toFixed(5)}, ${t.toFixed(5)}`)},s=>{console.error(s),o(e("navbar.geolocationError"))}):o(e("navbar.geolocationUnavailable"))},[e]);let g=e=>{(0,r.changeLanguage)(e),c(!1)};return(0,s.jsxs)("div",{className:"flex items-center justify-between bg-green-900 text-white p-6 rounded-xl shadow-md m-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"material-symbols-outlined text-lg",children:"location_on"}),(0,s.jsx)("span",{className:"text-sm",children:i})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,s.jsx)("span",{className:"material-symbols-outlined text-lg cursor-pointer hover:text-green-300 transition",onClick:()=>d.push("/pages/homeScreen"),children:"home"}),(0,s.jsx)("span",{className:"material-symbols-outlined text-lg cursor-pointer hover:text-green-300 transition",onClick:()=>d.push("/pages/settings"),children:"settings"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:()=>c(!l),className:"flex items-center space-x-1 cursor-pointer hover:text-green-300 transition text-sm font-medium",children:[(0,s.jsx)("span",{children:(()=>{switch(n){case"ru":return"RU";case"en":default:return"EN";case"uz":return"UZ"}})()}),(0,s.jsx)("svg",{className:`w-4 h-4 transition-transform ${l?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),l&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>c(!1)}),(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-lg z-20 overflow-hidden",children:[(0,s.jsxs)("button",{onClick:()=>g("ru"),className:`w-full px-4 py-3 text-left hover:bg-green-50 transition-colors flex items-center space-x-2 ${"ru"===n?"bg-green-50":""}`,children:[(0,s.jsx)("span",{className:"text-gray-800 font-medium",children:"Русский"}),"ru"===n&&(0,s.jsx)("svg",{className:"w-4 h-4 text-green-600 ml-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})]}),(0,s.jsxs)("button",{onClick:()=>g("en"),className:`w-full px-4 py-3 text-left hover:bg-green-50 transition-colors flex items-center space-x-2 ${"en"===n?"bg-green-50":""}`,children:[(0,s.jsx)("span",{className:"text-gray-800 font-medium",children:"English"}),"en"===n&&(0,s.jsx)("svg",{className:"w-4 h-4 text-green-600 ml-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})]}),(0,s.jsxs)("button",{onClick:()=>g("uz"),className:`w-full px-4 py-3 text-left hover:bg-green-50 transition-colors flex items-center space-x-2 ${"uz"===n?"bg-green-50":""}`,children:[(0,s.jsx)("span",{className:"text-gray-800 font-medium",children:"O'zbekcha"}),"uz"===n&&(0,s.jsx)("svg",{className:"w-4 h-4 text-green-600 ml-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})]})]})]})]})]})]})}e.s(["default",()=>i],78698)},2613,e=>{"use strict";var s=e.i(43476),t=e.i(71645),r=e.i(18566);e.i(51718);var n=e.i(18357),a=e.i(86632);e.i(36180);var i=e.i(98925),o=e.i(77690),l=e.i(78698),c=e.i(35428);function d(){let e=(0,r.useRouter)(),d=(0,n.getAuth)(a.app),{t:g}=(0,c.useStrings)(),[x,m]=(0,t.useState)(null),[u,h]=(0,t.useState)(null),[p,f]=(0,t.useState)(!0),[b,j]=(0,t.useState)({name:"",email:"",organization:"",role:""}),[y,v]=(0,t.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[N,w]=(0,t.useState)("profile"),[k,C]=(0,t.useState)(!1),[P,z]=(0,t.useState)({type:"",text:""}),S=async e=>{try{for(let s of(await (0,i.getDocs)((0,i.collection)(a.db,"organizations"))).docs){let t=await (0,i.getDoc)((0,i.doc)(a.db,`organizations/${s.id}/users/${e}`));if(t.exists())return{orgId:s.id,orgData:s.data(),userData:t.data()}}return null}catch(e){return console.error("Error fetching user organization:",e),null}};(0,t.useEffect)(()=>{let s=(0,n.onAuthStateChanged)(d,async s=>{if(s){m(s);let e=await S(s.uid);e&&(h(e.orgId),j({name:s.displayName||e.userData.name||"",email:s.email||"",organization:e.orgData.name||"Unknown Organization",role:e.userData.role||"member"})),f(!1)}else e.push("/auth/login")});return()=>s()},[e]);let D=(e,s)=>{z({type:e,text:s}),setTimeout(()=>z({type:"",text:""}),5e3)},L=async e=>{e.preventDefault(),C(!0);try{if(x.displayName!==b.name&&await (0,n.updateProfile)(x,{displayName:b.name}),u){let e=(0,i.doc)(a.db,`organizations/${u}/users/${x.uid}`);await (0,i.updateDoc)(e,{name:b.name,email:b.email})}D("success",g("settings.profileUpdated"))}catch(e){console.error("Error updating profile:",e),D("error",g("settings.profileUpdateError"))}finally{C(!1)}},$=async e=>{if(e.preventDefault(),y.newPassword!==y.confirmPassword)return void D("error",g("settings.passwordMismatch"));if(y.newPassword.length<6)return void D("error",g("settings.passwordTooShort"));C(!0);try{await (0,n.updatePassword)(x,y.newPassword),v({currentPassword:"",newPassword:"",confirmPassword:""}),D("success",g("settings.passwordChanged"))}catch(e){console.error("Error updating password:",e),D("error",g("settings.passwordChangeError"))}finally{C(!1)}},E=async()=>{try{await (0,n.signOut)(d),e.push("/")}catch(e){console.error("Error signing out:",e)}};return p?(0,s.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-green-600 mx-auto"}),(0,s.jsxs)("p",{className:"mt-4 text-gray-600",children:[g("loading"),"..."]})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-100 flex",children:[(0,s.jsx)(o.default,{}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,s.jsx)(l.default,{}),(0,s.jsx)("main",{className:"flex-1 p-6",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:g("settings.title")}),P.text&&(0,s.jsx)("div",{className:`mb-6 p-4 rounded-lg ${"success"===P.type?"bg-green-100 border border-green-400 text-green-700":"bg-red-100 border border-red-400 text-red-700"}`,children:P.text}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,s.jsx)("div",{className:"border-b border-gray-200",children:(0,s.jsxs)("nav",{className:"flex space-x-8 px-6",children:[(0,s.jsx)("button",{onClick:()=>w("profile"),className:`py-4 px-1 border-b-2 font-medium text-sm ${"profile"===N?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:g("settings.profile")}),(0,s.jsx)("button",{onClick:()=>w("security"),className:`py-4 px-1 border-b-2 font-medium text-sm ${"security"===N?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:g("settings.security")}),(0,s.jsx)("button",{onClick:()=>w("organization"),className:`py-4 px-1 border-b-2 font-medium text-sm ${"organization"===N?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:g("settings.organization")})]})}),(0,s.jsxs)("div",{className:"p-6",children:["profile"===N&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:g("settings.profileInfo")}),(0,s.jsxs)("form",{onSubmit:L,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g("settings.name")}),(0,s.jsx)("input",{type:"text",value:b.name,onChange:e=>j(s=>({...s,name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:g("settings.enterName")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g("settings.email")}),(0,s.jsx)("input",{type:"email",value:b.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:g("settings.emailCantChange")})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)("button",{type:"submit",disabled:k,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50",children:k?g("settings.saving"):g("settings.saveChanges")})})]})]})}),"security"===N&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:g("settings.changePassword")}),(0,s.jsxs)("form",{onSubmit:$,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g("settings.newPassword")}),(0,s.jsx)("input",{type:"password",value:y.newPassword,onChange:e=>v(s=>({...s,newPassword:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:g("settings.enterNewPassword"),minLength:"6"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g("settings.confirmPassword")}),(0,s.jsx)("input",{type:"password",value:y.confirmPassword,onChange:e=>v(s=>({...s,confirmPassword:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:g("settings.confirmNewPassword"),minLength:"6"})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)("button",{type:"submit",disabled:k||!y.newPassword||!y.confirmPassword,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50",children:k?g("settings.changing"):g("settings.changePasswordBtn")})})]})]}),(0,s.jsxs)("div",{className:"border-t pt-6",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:g("settings.logout")}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:g("settings.logoutDescription")}),(0,s.jsx)("button",{onClick:E,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:g("settings.logoutBtn")})]})]}),"organization"===N&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:g("settings.organizationInfo")}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:[g("settings.organizationName"),":"]}),(0,s.jsx)("p",{className:"text-gray-900",children:b.organization})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:[g("settings.yourRole"),":"]}),(0,s.jsx)("p",{className:"text-gray-900 capitalize",children:b.role})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:[g("settings.organizationId"),":"]}),(0,s.jsx)("p",{className:"text-gray-900 font-mono text-sm",children:u})]})]})]}),(0,s.jsxs)("div",{className:"border-t pt-6",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:g("settings.aboutApp")}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,s.jsxs)("span",{className:"font-medium",children:[g("settings.version"),":"]})," 1.0.0"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,s.jsxs)("span",{className:"font-medium",children:[g("settings.developer"),":"]})," abdu1axad"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,s.jsxs)("span",{className:"font-medium",children:[g("settings.year"),":"]})," 2025"]})]})]})]})]})]})]})})]})]})}e.s(["default",()=>d])}]);